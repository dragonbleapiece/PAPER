{"version":3,"sources":["Icons/save_alt.svg","Icons/code.svg","Icons/info.svg","Icons/cancel.svg","Icons/arrow_right.svg","Icons/scale.svg","Icons/square.svg","Icons/triangle.svg","Icons/ellipse.svg","Icons/HHatching.svg","Icons/VHatching.svg","Icons/LOHatching.svg","Icons/ROHatching.svg","Icons/grid_on.svg","Icons/next.svg","Icons/unknown.svg","Icons/translate.svg","Icons/rotate.svg","Icons/void.svg","Components/Canvas/Canvas.js","Constants.js","Components/DropBox/DropBox.js","Components/DragBox/DragBox.js","Components/ContextMenuBox/ContextMenuBox.js","Components/Colors/Color.js","Components/Transforms/Transform.js","Components/Input/Input.js","Components/Input/SliderBox/SliderBox.js","Components/Transforms/Scale/Scale.js","Components/Box/Box.js","Components/BoxGroup/BoxGroup.js","Components/Colors/Black.js","Components/Workspace/Workspace.js","Components/Figures/Figure.js","Components/Figures/Rectangle/Rectangle.js","Components/Figures/Triangle/Triangle.js","Components/Figures/Ellipse/Ellipse.js","Components/Figures/Hatching/Hatching.js","Components/Figures/Hatching/HHatching/HHatching.js","Components/Figures/Hatching/VHatching/VHatching.js","Components/Figures/Hatching/LOHatching/LOHatching.js","Components/Figures/Hatching/ROHatching/ROHatching.js","Components/Placement/Placement.js","Components/Modes/Mode.js","Components/Modes/GridMode/GridMode.js","Components/Modes/GridMode/LinearY/LinearY.js","Components/Modes/GridMode/LinearX/LinearX.js","Components/Modes/GridMode/DiagonalLeft/DiagonalLeft.js","Components/Modes/GridMode/DiagonalRight/DiagonalRight.js","Components/Modes/GridMode/Orthogonal/Orthogonal.js","Components/Modes/GridMode/SnailRight/SnailRight.js","Components/Placement/Grid/Grid.js","Components/Input/RangeBox/RangeBox.js","Components/Markov/Markov.js","Components/Transforms/Translate/Translate.js","Components/Transforms/Rotate/Rotate.js","Components/Void/Void.js","Components/Colors/Blue.js","Components/Colors/Cyan.js","Components/Colors/Magenta.js","Components/Colors/Yellow.js","Components/Colors/White.js","Components/Index.js","Containers/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","p5","require","Canvas","props","_this","Object","classCallCheck","this","undefined","_instance","possibleConstructorReturn","getPrototypeOf","call","state","function","width","height","strokeWeight","assertThisInitialized","filename","extension","_P5","savePaper","ext","arguments","length","canvasWidth","window","innerWidth","canvasHeight","innerHeight","CanvasSize","setState","self","sk","setup","bind","draw","windowResized","strokeScale","f","CalcCanvasSize","resizeCanvas","saveSVG","_this$state","createCanvas","SVG","noLoop","updateWorkspace","scale","pixelDensity","initP5","react_default","a","createElement","className","id","Component","ItemTypes","boxTarget","canDrop","monitor","getItem","hover","component","item","isOver","shallow","hovered","el","drop","didDrop","clientOffset","getClientOffset","componentRect","findDOMNode","getBoundingClientRect","x","right","y","bottom","left","top","moved","DropBox","_this$props","connectDropTarget","constructor","children","DropTarget","connect","dropTarget","isOverCurrent","itemType","getItemType","boxSource","beginDrag","endDrag","result","getDropResult","console","log","removeFromParent","pushChild","type","DragBox","d","parseInt","style","coord","Number","isNaN","position","setStyle","onClose","Workspace","forceUpdate","isDragging","connectDragSource","connectDragPreview","onClick","react_svg","src","cancel","icon","fill","color","name","DragSource","dragPreview","dragSource","menu","elements","ContextMenuBox","event","data","addClassToElement","m","handleClick","_this2","map","index","unauthorized","indexOf","getIconClassFromName","es6","key","shortid","generate","title","Fragment","arrow_right","getMenu","menuItems","suppMenu","concat","holdToDisplay","Color","r","g","b","Transform","Input","SliderBox","es","min","max","defaultValue","marks","step","steps","padding","trackStyle","backgroundColor","borderRadius","railStyle","handleStyle","marginTop","borderColor","dotStyle","onChange","value","Scale","Input_SliderBox_SliderBox","1","10","20","scaleIcon","menuColor","Box","initState","next","nextType","drawBeforeType","getClassFromName","_id","Function","push","i","child","obj","isAuthorized","parent","filter","setChildren","elmnt","callDrawBeforeType","_this3","ref","saveState","_this4","Transforms_Scale_Scale","c","formatedColor","Components_ContextMenuBox_ContextMenuBox","Components_DragBox_DragBox","renderBox","getTransforms","Components_DropBox_DropBox","getChildren","BoxGroup","get","prototype","element","drawBeforeChild","pop","React","Children","Black","addDrawBeforeType","translate","box","addChild","background","getP5Color","noStroke","sendDraw","DragDropContext","HTML5Backend","Figure","drawFigure","Rectangle","rect","square","Triangle","triangle","Ellipse","ellipse","Hatching","density","stroke","HHatching","gapY","j","line","HHatchingIcon","VHatching","gapX","VHatchingIcon","LOHatching","LOHatchingIcon","ROHatching","ROHatchingIcon","Placement","mode","currentMode","Mode","GridMode","LinearY","rows","columns","callback","column","row","LinearX","lines","DiagonalLeft","compteur","DiagonalRight","Orthogonal","SnailRight","Math","round","side","move","Grid","elem","50","renderMode","grid_on","RangeBox","trackStyleArray","Array","count","handleStyleArray","assign","innerRef","clamp","clamp_left","clamp_right","checkLeft","userValue","handle","checkRight","Markov","elementsLength","currentState","random","idElement","proba","rand","sliders","defaultValues","floor","propsRange","0","100","pushable","RangeIcon","inputs","unknown","bounds","_loop","propsInput","target","onKeyDown","Input_RangeBox_RangeBox","Translate","destX","destY","Rotate","rotate","Void","voidIcon","Blue","Cyan","Magenta","Yellow","White","cl","unauthorizedClass","error","toggle","App","DownloadName","DownloadFormat","downloadImage","aboutDisplay","display","aboutClick","icon_info","Components_Workspace_Workspace","icon_code","defaultChecked","checked","htmlFor","icon_save_alt","Components_Canvas_Canvas","Boolean","location","hostname","match","configure","adapter","Adapter","ReactDOM","render","Containers_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.69f746d5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/save_alt.3ccde972.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.74f0e940.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.b08ccdbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.4afab8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.79443cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/scale.08ae3836.svg\";","module.exports = __webpack_public_path__ + \"static/media/square.5b5b5ce7.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangle.3963bd74.svg\";","module.exports = __webpack_public_path__ + \"static/media/ellipse.37dda89e.svg\";","module.exports = __webpack_public_path__ + \"static/media/HHatching.f3da2da9.svg\";","module.exports = __webpack_public_path__ + \"static/media/VHatching.c8766020.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOHatching.186b393d.svg\";","module.exports = __webpack_public_path__ + \"static/media/ROHatching.8c0092fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/grid_on.8ace643b.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.0f510805.svg\";","module.exports = __webpack_public_path__ + \"static/media/unknown.3f5bae44.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.aaf3d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.5d1fc53d.svg\";","module.exports = __webpack_public_path__ + \"static/media/void.a2a55d7b.svg\";","import React, { Component } from 'react';\r\nimport './Canvas.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nvar p5 = require('p5');\r\nrequire('p5.js-svg')(p5);\r\n\r\nclass Canvas extends Component {\r\n\r\n  /*Singleton*/\r\n  static _instance;\r\n  static _P5;\r\n  static savePaper(filename, extension) {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.savePaper(filename, extension);\r\n    }\r\n  }\r\n\r\n\r\n  state = {\r\n    function: undefined,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    if(Canvas._instance != undefined) {\r\n      return Canvas._instance;\r\n    }\r\n    super(props);\r\n    this.strokeWeight = 1;\r\n\r\n    Canvas._instance = this;\r\n  }\r\n\r\n  setfilename(filename, ext = undefined) {\r\n    this.filename = filename;\r\n    if(ext !== undefined) this.extension = ext;\r\n  }\r\n\r\n  CalcCanvasSize() {\r\n    let canvasWidth = window.innerWidth*0.5-60;\r\n    let canvasHeight = window.innerHeight-180;\r\n    let CanvasSize = (canvasWidth < canvasHeight) ? canvasWidth : canvasHeight;\r\n    this.setState({width: CanvasSize, height: CanvasSize});\r\n  }\r\n\r\n  initP5() {\r\n    let self = this;\r\n    let s = (sk) => {\r\n      sk.setup = self.setup.bind(self, sk);\r\n      sk.draw = self.draw.bind(self, sk);\r\n      sk.windowResized = self.windowResized.bind(self, sk);\r\n      sk.savePaper = self.savePaper.bind(self, sk);\r\n      sk.strokeScale = self.strokeScale.bind(self, sk);\r\n\r\n    }\r\n\r\n    Canvas._P5 = new p5(s, 'renderer');\r\n  }\r\n\r\n  sendDraw(f) {\r\n    this.setState({\r\n      function: f\r\n    });\r\n  }\r\n\r\n  resetDraw() {\r\n    this.setState({\r\n      function: undefined\r\n    });\r\n  }\r\n\r\n  windowResized(sk) {\r\n    this.CalcCanvasSize();\r\n    sk.resizeCanvas(this.state.width, this.state.height);\r\n  }\r\n\r\n  savePaper(sk, filename, extension) {\r\n    if(filename !== undefined || extension !== undefined) {\r\n      sk.saveSVG(filename + \".\" + extension);\r\n    }\r\n  }\r\n\r\n  setup(sk) {\r\n    const {width, height} = this.state;\r\n    sk.createCanvas(width, height, sk.SVG);\r\n    sk.noLoop();\r\n    window.updateWorkspace();\r\n  }\r\n\r\n  strokeScale(sk, scale) {\r\n    this.strokeWeight *= scale;\r\n    sk.strokeWeight(this.strokeWeight);\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.pixelDensity(1); //fix svg\r\n    let f = this.state.function;\r\n    if(f !== undefined) {\r\n      f(sk);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.CalcCanvasSize();\r\n    this.initP5();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    Canvas._P5.draw();\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvasContainer\">\r\n        <div id=\"renderer\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCanvas._instance = undefined;\r\nCanvas._P5 = undefined;\r\n\r\n/*PropTypes*/\r\nCanvas.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  cells: PropTypes.number\r\n}\r\n\r\nexport default Canvas;\r\n","export const ItemTypes = {\r\n  BOX: 'box'\r\n};\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport { DropTarget, DragSource } from 'react-dnd';\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDropTarget: connect.dropTarget(),\r\n    // You can ask the monitor about the current drag state:\r\n    isOver: monitor.isOver(),\r\n    isOverCurrent: monitor.isOver({ shallow: true }),\r\n    canDrop: monitor.canDrop(),\r\n    itemType: monitor.getItemType()\r\n  };\r\n}\r\n\r\n//Functions for dropping the box\r\nconst boxTarget = {\r\n  canDrop(props, monitor) {\r\n    // You can disallow drop based on props or item\r\n    const item = monitor.getItem();\r\n    //return canMakeChessMove(item.fromPosition, props.position);\r\n    return true;\r\n  },\r\n\r\n  hover(props, monitor, component) {\r\n    // This is fired very often and lets you perform side effects\r\n    // in response to the hover. You can't handle enter and leave\r\n    // here—if you need them, put monitor.isOver() into collect() so you\r\n    // can just use componentDidUpdate() to handle enter/leave.\r\n\r\n    //return;\r\n\r\n    const item = monitor.getItem();\r\n\r\n    // You can access the coordinates if you need them\r\n\r\n    // You can check whether we're over a nested drop target\r\n    const isJustOverThisOne = monitor.isOver({ shallow: true });\r\n\r\n    // You will receive hover() even for items for which canDrop() is false\r\n    const canDrop = monitor.canDrop();\r\n\r\n    item.hovered = props.el;\r\n\r\n  },\r\n\r\n  drop(props, monitor, component) {\r\n    if (monitor.didDrop()) {\r\n      // If you want, you can check whether some nested\r\n      // target already handled drop\r\n      return;\r\n    }\r\n\r\n    // Obtain the dragged item\r\n    let item = monitor.getItem();\r\n\r\n    // You can do something with it\r\n    const clientOffset = monitor.getClientOffset();\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    if(clientOffset.x > componentRect.right\r\n      || clientOffset.y > componentRect.bottom\r\n      || clientOffset.x < componentRect.left\r\n      || clientOffset.y < componentRect.top) {\r\n      return;\r\n    }\r\n\r\n    // You give to the currently moving item the new positions\r\n    item.x = clientOffset.x - item.x;\r\n    item.y = clientOffset.y - item.y;\r\n\r\n    // You can also do nothing and return a drop result,\r\n    // which will be available as monitor.getDropResult()\r\n    // in the drag source's endDrag() method\r\n    return { moved: true };\r\n  }\r\n};\r\n\r\n\r\nclass DropBox extends Component {\r\n\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isOver, canDrop, connectDropTarget } = this.props;\r\n    return connectDropTarget(\r\n      <div className={this.constructor.className}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropBox.className = \"DropBox\";\r\n\r\nexport default DropTarget(ItemTypes.BOX, boxTarget, collect)(DropBox);\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport {DragSource} from 'react-dnd';\r\nimport { getEmptyImage } from 'react-dnd-html5-backend';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport cancel from '../../Icons/cancel.svg';\r\n\r\n//Functions for dragging the box\r\nconst boxSource = {\r\n  beginDrag(props, monitor, component) {\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n    const clientOffset = monitor.getClientOffset();\r\n    let item = clientOffset;\r\n    return item;\r\n  },\r\n  endDrag(props, monitor, component) {\r\n    const item = monitor.getItem();\r\n    const result = monitor.getDropResult();\r\n    console.log(item.hovered);\r\n    if(result !== null && result.moved) {\r\n      props.el.removeFromParent();\r\n      item.hovered.pushChild({type: props.el.constructor, id: props.el.props.id, state: props.el.state});\r\n      //component.setPosition(item);\r\n    }\r\n    return {};\r\n  }\r\n};\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\n\r\nclass DragBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  setPosition(d) {\r\n    if(!d) return;\r\n    const left = parseInt(this.props.el.state.style.left);\r\n    const top = parseInt(this.props.el.state.style.top);\r\n\r\n    const coord = {\r\n      x: !Number.isNaN(left) ? left : 0,\r\n      y: !Number.isNaN(top) ? top : 0\r\n    };\r\n\r\n    const style = {\r\n      \"position\": \"absolute\",\r\n      \"top\": d.y + coord.y + \"px\",\r\n      \"left\": d.x + coord.x + \"px\"\r\n    };\r\n    console.log(coord);\r\n    this.props.el.setStyle(style);\r\n  }\r\n\r\n  onClose() {\r\n      if(this.props.onClose !== undefined) {\r\n        this.props.onClose();\r\n      }\r\n      Workspace.forceUpdate();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isDragging, connectDragSource, connectDragPreview } = this.props;\r\n\r\n    if(isDragging) {\r\n      return null;\r\n    }\r\n\r\n    return(\r\n      <div className=\"Box__wrapper\">\r\n        <span className=\"Box__titleClose\" onClick={this.onClose.bind(this)}>\r\n            <SVG src={cancel}/>\r\n        </span>\r\n        {connectDragSource(<span className=\"Box__title\">\r\n          {this.props.icon && <SVG className=\"Box__titleIcon\" src={this.props.icon} style={{fill: this.props.color}}/>}\r\n          <span className=\"Box__titleText\" style={{color: this.props.color}}>{this.props.name}</span>\r\n        </span>)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragSource(ItemTypes.BOX, boxSource, collect)(DragBox);\r\n","import React, { Component } from 'react';\r\nimport './ContextMenuBox.css';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport arrow_right from '../../Icons/arrow_right.svg';\r\n\r\nconst menu = [\r\n  {\r\n    type: 'Placement',\r\n    elements: [\r\n      {type: 'Grid'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Elements',\r\n    elements: [\r\n      {type: 'Rectangle'},\r\n      {type: 'Triangle'},\r\n      {type: 'Ellipse'},\r\n      {type: 'HHatching'},\r\n      {type: 'VHatching'},\r\n      {type: 'LOHatching'},\r\n      {type: 'ROHatching'},\r\n      {type: 'Void'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Markov'\r\n  }\r\n];\r\n\r\nclass ContextMenuBox extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  handleClick(event, data) {\r\n    if(data.type !== undefined) {\r\n      window.addClassToElement(data.type, data.el);\r\n    }\r\n  }\r\n\r\n  getMenu(m, handleClick) {\r\n    return m.map(\r\n      (item, index) => {\r\n        if(this.props.el.unauthorized.indexOf(item.type) === -1) {\r\n          let icon = window.getIconClassFromName(item.type);\r\n          if (!item.elements) {\r\n            return (<MenuItem onClick={handleClick} data={{ type: item.type, el: this.props.el }} key={shortid.generate()}>\r\n              {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n              <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n            </MenuItem>);\r\n          } else {\r\n            return (<SubMenu key={shortid.generate()} title={\r\n              <>\r\n                <span  className=\"react-contextmenu-itemLabel\">\r\n                {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n                <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n                </span>\r\n                <span className=\"react-contextmenu-itemIcon\"><SVG src={arrow_right}/></span>\r\n              </>\r\n            }>\r\n                {this.getMenu(item.elements, handleClick)}\r\n            </SubMenu>);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    let menuItems = [];\r\n    if(this.props.el.unauthorized.indexOf(\"*\") === -1) {\r\n      menuItems = this.getMenu(menu, this.handleClick.bind(this));\r\n    }\r\n\r\n    for(let key in this.props.suppMenu) {\r\n      let suppMenu = this.props.suppMenu[key];\r\n      if( suppMenu.menu && suppMenu.handleClick ) {\r\n        menuItems = menuItems.concat(this.getMenu(suppMenu.menu, suppMenu.handleClick));\r\n      }\r\n    }\r\n\r\n    console.log(this.props.el.constructor.className, menuItems, menuItems.length);\r\n\r\n    return (\r\n      <>\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n        {(menuItems.length > 0) && <ContextMenu id={this.props.id}>\r\n            {menuItems}\r\n        </ContextMenu>}\r\n      </>\r\n    );\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default ContextMenuBox;\r\n","class Color {\r\n\r\n  constructor(r = 0, g = 0, b = 0, a = 255) {\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n    this.a = a;\r\n  }\r\n\r\n  getP5Color(sk) {\r\n    return sk.color(this.r, this.g, this.b, this.a);\r\n  }\r\n\r\n}\r\n\r\nColor.className = \"Color\";\r\n\r\nexport default Color;\r\n","import React, { Component } from 'react';\r\nimport './Transform.css';\r\n\r\n\r\n/*Attribute*/\r\nclass Transform extends Component {\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Transform.className;\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nTransform.className = \"Transform\";\r\nTransform.icon = undefined;\r\n\r\nexport default Transform;\r\n","import React, { Component } from 'react';\r\nimport './Input.css';\r\n\r\nclass Input extends Component {\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './SliderBox.css';\r\n\r\nclass SliderBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Slider\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={{marginTop: '-3px', borderColor: 'black' }}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {if(this.props.onChange) {this.props.onChange(value); Workspace.forceUpdate();}}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SliderBox;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Scale.css';\r\nimport scaleIcon from '../../../Icons/scale.svg';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\n\r\n/*Attribute*/\r\nclass Scale extends Transform {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Scale.className;\r\n    this.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.scale(this.scaleX, this.scaleY);\r\n      let max = Math.max(this.scaleX, this.scaleY);\r\n      sk.strokeWeight(1/max);\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n      sk.strokeWeight(1);\r\n    sk.pop();\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <SliderBox min={1} max={20} defaultValue={10} marks={{1:0.1, 10:1, 20:2}} step={1} onChange={(value) => {\r\n        this.scale = {x: value / 10, y: value / 10};\r\n        if(this.props.onChange) this.props.onChange(this.scale);\r\n      }} />\r\n    );\r\n  }\r\n}\r\n\r\nScale.className = \"Scale\";\r\nScale.icon = scaleIcon;\r\n\r\nexport default Scale;\r\n","import React, { Component } from 'react';\r\nimport './Box.css';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Color from '../Colors/Color';\r\nimport Scale from '../Transforms/Scale/Scale';\r\n\r\nconst menuColor = [\r\n  {\r\n    type: 'Color',\r\n    elements: [\r\n      {type: 'Blue'},\r\n      {type: 'Cyan'},\r\n      {type: 'Magenta'},\r\n      {type: 'Yellow'},\r\n      {type: 'Black'},\r\n      {type: 'White'}\r\n    ]\r\n  }\r\n];\r\n\r\n\r\n/*Pencil*/\r\nclass Box extends Component {\r\n\r\n  static get id() {\r\n    return Box._id++;\r\n  }\r\n\r\n  state = {\r\n    children: [],\r\n    style: {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(props && this.props.state) {\r\n      this.state = this.props.state;\r\n    } else {\r\n      this.initState();\r\n    }\r\n\r\n    this.className = Box.className;\r\n    this.name = Box.className;\r\n    this.next = undefined;\r\n    this.nextType = undefined;\r\n    this.unauthorized = [];\r\n    this.drawBeforeType = {};\r\n    this.suppMenu = [{\r\n      menu: menuColor,\r\n      handleClick: (event, data) => {\r\n       if(data.type) {\r\n         let color = window.getClassFromName(data.type);\r\n         if(color) this.setState({color: new color()});\r\n         window.updateWorkspace();\r\n       }\r\n      }\r\n    }];\r\n\r\n\r\n  }\r\n\r\n  initState() {\r\n    this.state.color = new Color(255, 255, 255);\r\n    this.state.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  addDrawBeforeType(type, f) {\r\n    if(!(f instanceof Function)) return;\r\n    if(!this.drawBeforeType[type]) {\r\n      this.drawBeforeType[type] = [f];\r\n    } else {\r\n      this.drawBeforeType[type].push(f);\r\n    }\r\n  }\r\n\r\n  callDrawBeforeType(sk, type) {\r\n    for(let i = 0; i < this.drawBeforeType[type].length; ++i) {\r\n      this.drawBeforeType[type][i](sk);\r\n    }\r\n  }\r\n\r\n  addChild(child) {\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(window.isAuthorized(child, this.unauthorized) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [{type:child, id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  pushChild(child) {\r\n    if(!child || !child.type || !child.id) return;\r\n    let obj = new child.type(); //tricky\r\n    if(window.isAuthorized(child.type, this.unauthorized) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [child]\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.setState({\r\n      children: children\r\n    })\r\n  }\r\n\r\n  removeFromParent() {\r\n    let children = this.props.parent.state.children;\r\n    children = children.filter(el => el.id !== this.props.id);\r\n    this.props.parent.setChildren(children);\r\n  }\r\n\r\n  addNext(elmnt) {\r\n    if(elmnt !== undefined) {\r\n      if(elmnt instanceof Box) {\r\n        this.next = elmnt;\r\n        this.nextType = elmnt.constructor.name;\r\n      }\r\n    }\r\n  }\r\n\r\n  setStyle(style) {\r\n    this.setState({\r\n      style: style\r\n    });\r\n  }\r\n\r\n  drawBeforeChild(sk, child) {\r\n    if(!child) return;\r\n    for(let key in this.drawBeforeType) {\r\n      console.log(key);\r\n      if(child instanceof window.getClassFromName(key)) {\r\n        this.callDrawBeforeType(sk, key);\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n\r\n  getChildren() {\r\n    this.next = undefined;\r\n    let children = [];\r\n\r\n    if(this.state.children.length > 0) {\r\n      let child = this.state.children[0];\r\n      children.push(<child.type key={child.id} parent={this} id={child.id} ref={el => {this.next = el}} saveState={(state) => {child.state = state}} state={child.state}/>);\r\n    }\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  getTransforms() {\r\n    return (\r\n      <Scale onChange={(scale) => {this.setState({scale: scale});}}/>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const {saveState} = this.props;\r\n    if(saveState) {\r\n      saveState(this.state);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let c = this.state.color;\r\n    let formatedColor = (c.r+c.g+c.b !== 0) ? \"rgba(\"+c.r+\", \"+c.g+\", \"+c.b+\", \"+c.a/255+\")\" : \"rgba(255, 255, 255, 1)\";\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DragBox icon={this.constructor.icon} color={formatedColor} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} el={this}>\r\n            <span className=\"Box__content\">\r\n              <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n                {this.getTransforms()}\r\n              </ContextMenuTrigger>\r\n              <DropBox el={this}>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id}>\r\n                  {this.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBox._id = 0; //or use shortid ?\r\nBox.className = \"Box\";\r\nBox.icon = undefined;\r\n\r\nexport default Box;\r\n","import React, { Component } from 'react';\r\nimport './BoxGroup.css';\r\nimport Box from '../Box/Box';\r\nimport {shallow, instance} from 'enzyme';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n\r\n/*Pencil*/\r\nclass BoxGroup extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = BoxGroup.className;\r\n    this.elements = [];\r\n  }\r\n\r\n  addChild(child) {\r\n\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(this.unauthorized.indexOf(child.name) === -1 && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push({type: child, id: Box.id});\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  pushChild(child) {\r\n    if(!child || !(\"type\" in child) || !(\"id\" in child)) return;\r\n    let obj = new child.type(); //tricky\r\n    if(window.isAuthorized(child.type, this.unauthorized) && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push(child);\r\n      console.log(child);\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.elements = [];\r\n    super.setChildren(children);\r\n  }\r\n\r\n  draw(sk) {\r\n    let el = this.elements;\r\n    for(let i = 0; i <el.length; ++i) {\r\n       let element = el[i];\r\n       sk.push();\r\n         this.drawBeforeChild(sk, element);\r\n         if(element) element.draw(sk);\r\n        sk.pop();\r\n    }\r\n  }\r\n\r\n  initElements(instance = Box, callback = function() {}) {\r\n\r\n    let elements = [];\r\n\r\n    const children = React.Children.map(this.props.children,\r\n       (child, index) => {\r\n              elements.push(child);\r\n              //box.parent = callback;\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.initElements();\r\n  }\r\n\r\n  getChildren() {\r\n    this.elements = [];\r\n    let children = this.state.children.map((child, index) =>\r\n      <child.type key={child.id} id={child.id} parent={this} ref={el => this.elements[index] = el} saveState={(state) => {child.state = state}} state={child.state}/>\r\n    );\r\n\r\n\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} suppMenu={this.suppMenu} unauthorized={this.unauthorized} el={this}>\r\n          <DragBox icon={this.constructor.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} className={this.className} el={this}>\r\n            <span className=\"Box__content\">\r\n              <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n              </ContextMenuTrigger>\r\n              <DropBox el={this}>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id}>\r\n                  {this.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBoxGroup.className = \"BoxGroup\";\r\nBoxGroup.icon = undefined;\r\n\r\nexport default BoxGroup;\r\n","import Color from './Color';\r\n\r\nclass Black extends Color {\r\n\r\n  constructor() {\r\n    super(0, 0, 0, 255);\r\n  }\r\n\r\n}\r\n\r\nBlack.className = \"Black\";\r\n\r\nexport default Black;\r\n","import React, { Component } from 'react';\r\nimport './Workspace.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport Box from '../Box/Box';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport {shallow, instance} from 'enzyme';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport ItemTypes from '../../Constants.js';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport Black from '../Colors/Black';\r\n\r\n\r\nclass Workspace extends BoxGroup {\r\n\r\n  static _instance;\r\n\r\n  static addChild(box) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addChild(box);\r\n    }\r\n  }\r\n\r\n  static forceUpdate() {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.forceUpdate();\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    if(Workspace._instance !== undefined) {\r\n      return Workspace._instance;\r\n    }\r\n    super(props);\r\n    this.className = this.constructor.className;\r\n    this.elements = []; //no this.state.elements\r\n    this.unauthorized = [\"Markov\"];\r\n    this.addDrawBeforeType(\"Figure\", function(sk) {\r\n      sk.translate(sk.width / 2, sk.height / 2)\r\n      sk.scale(sk.width, sk.height);\r\n      sk.strokeWeight(1 / sk.width);\r\n    });\r\n    Workspace._instance = this;\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.children = [];\r\n    this.state.color = new Black();\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.background(this.state.color.getP5Color(sk));\r\n    sk.noStroke();\r\n    super.draw(sk);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    canvas.sendDraw(this.draw.bind(this));\r\n  }\r\n\r\n  //dead code\r\n  /*componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    let next = undefined;\r\n    let children = this.state.elements.reverse();\r\n    let instance = undefined;\r\n\r\n    if(children.length > 0) {\r\n      for(let i = 0; i < children.length; ++i) {\r\n        let child = children[i];\r\n        if(child === undefined) continue;\r\n        if(child instanceof Box) {\r\n          child.addNext(next);\r\n          next = child;\r\n        }\r\n        else if(shallow(child).instance() instanceof Box) {\r\n          instance = shallow(child).instance();\r\n          instance.addNext(next);\r\n          next = instance;\r\n        }\r\n      }\r\n\r\n      if(instance !== undefined) {\r\n        canvas.sendDraw(instance.draw.bind(instance));\r\n      } else {\r\n        canvas.sendDraw(children[children.length - 1].draw.bind(children[children.length - 1]));\r\n      }\r\n    }\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className}>\r\n        <ContextMenuBox id={this.constructor.className} unauthorized={this.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DropBox el={this}>\r\n            {!this.state.children.length && <span className=\"Workspace__placeholder\">Right click here</span>}\r\n            {this.getChildren()}\r\n          </DropBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nWorkspace.className = \"Workspace\";\r\nWorkspace._instance = undefined;\r\n\r\nexport default DragDropContext(HTML5Backend)(Workspace);\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Figure.css';\r\n\r\n/*Pencil*/\r\nclass Figure extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Figure.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 0;\r\n    this.height = 0;\r\n    this.unauthorized = [\"*\"];\r\n  }\r\n\r\n  drawFigure(sk) {\r\n\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.fill(this.state.color.getP5Color(sk));\r\n      sk.scale(this.state.scale.x, this.state.scale.y);\r\n      sk.translate(-this.width / 2, -this.height / 2);\r\n      this.drawFigure(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nFigure.className = \"Figure\";\r\nFigure.icon = undefined;\r\n\r\nexport default Figure;\r\n","import React, { Component } from 'react';\r\nimport './Rectangle.css';\r\nimport Figure from '../Figure';\r\nimport square from '../../../Icons/square.svg';\r\n\r\n/*Pencil*/\r\nclass Rectangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rectangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.rect(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nRectangle.className = \"Rectangle\";\r\nRectangle.icon = square;\r\n\r\nexport default Rectangle;\r\n","import React, { Component } from 'react';\r\nimport './Triangle.css';\r\nimport Figure from '../Figure';\r\nimport triangle from '../../../Icons/triangle.svg';\r\n\r\n/*Pencil*/\r\nclass Triangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Triangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.triangle(this.x, this.y + this.height, this.x + this.width, this.y + this.height, (this.x + this.width) / 2, this.y);\r\n  }\r\n}\r\n\r\nTriangle.className = \"Triangle\";\r\nTriangle.icon = triangle;\r\n\r\nexport default Triangle;\r\n","import React, { Component } from 'react';\r\nimport './Ellipse.css';\r\nimport Figure from '../Figure';\r\nimport ellipse from '../../../Icons/ellipse.svg';\r\n\r\n/*Pencil*/\r\nclass Ellipse extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Ellipse.className;\r\n    this.width = 1;\r\n    this.height = 1;\r\n    this.x = this.width / 2;\r\n    this.y = this.height / 2;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.ellipse(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nEllipse.className = \"Ellipse\";\r\nEllipse.icon = ellipse;\r\n\r\nexport default Ellipse;\r\n","import React, { Component } from 'react';\r\nimport Figure from '../Figure';\r\nimport './Hatching.css';\r\n\r\n/*Pencil*/\r\nclass Hatching extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Hatching.className;\r\n    this.density = 10;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.stroke(this.state.color.getP5Color(sk));\r\n    super.draw(sk);\r\n    sk.noStroke();\r\n  }\r\n\r\n}\r\n\r\nHatching.className = \"Hatching\";\r\nHatching.icon = undefined;\r\n\r\nexport default Hatching;\r\n","import React, { Component } from 'react';\r\nimport './HHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport HHatchingIcon from '../../../../Icons/HHatching.svg';\r\n\r\n/*Pencil*/\r\nclass HHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + HHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let gapY = this.height / this.density;\r\n    for(var j = 0; j <= this.density ; j++){\r\n      sk.line(this.x, this.y + j * gapY, this.x + this.width, this.y + j * gapY);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nHHatching.className = \"HHatching\";\r\nHHatching.icon = HHatchingIcon;\r\n\r\nexport default HHatching;\r\n","import React, { Component } from 'react';\r\nimport './VHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport VHatchingIcon from '../../../../Icons/VHatching.svg';\r\n\r\n/*Pencil*/\r\nclass VHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + VHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let gapX = this.width / this.density;\r\n    for(var i = 0; i <= this.density ; i++){\r\n      sk.line(this.x + i * gapX, this.y, this.x + i * gapX, this.y + this.height);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nVHatching.className = \"VHatching\";\r\nVHatching.icon = VHatchingIcon;\r\n\r\nexport default VHatching;\r\n","import React, { Component } from 'react';\r\nimport './LOHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport LOHatchingIcon from '../../../../Icons/LOHatching.svg';\r\n\r\n/*Pencil*/\r\nclass LOHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LOHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x;\r\n    let j = this.y + this.height;\r\n    let gapX = (this.width / this.density);\r\n    let gapY = (this.height / this.density);\r\n    while(i < this.x + this.width){\r\n      sk.line(i, this.y, this.x+this.width, j);\r\n      i += gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x + this.width;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(this.x, j, i, this.y+this.height);\r\n      i -= gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nLOHatching.className = \"LOHatching\";\r\nLOHatching.icon = LOHatchingIcon;\r\n\r\nexport default LOHatching;\r\n","import React, { Component } from 'react';\r\nimport './ROHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport ROHatchingIcon from '../../../../Icons/ROHatching.svg';\r\n\r\n/*Pencil*/\r\nclass ROHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + ROHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x + this.width;\r\n    let j = this.y + this.height;\r\n    let gapX = (this.width / this.density);\r\n    let gapY = (this.height / this.density);\r\n    while(j > this.y){\r\n      sk.line(this.x, j, i, this.y);\r\n      i -= gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(i, this.y + this.height, this.x + this.width, j);\r\n      i += gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nROHatching.className = \"ROHatching\";\r\nROHatching.icon = ROHatchingIcon;\r\n\r\nexport default ROHatching;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Placement.css';\r\nimport shortid from 'shortid';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n\r\n/*Pencil*/\r\nclass Placement extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Placement.className;\r\n    this.suppMenu.push({\r\n      menu: undefined,\r\n      handleClick: (event, data) => {\r\n        if(data.type) {\r\n          this.setState({mode: window.getClassFromName(data.type)})\r\n          Workspace.forceUpdate();\r\n        }\r\n      }\r\n    });\r\n    this.suppMenu[this.suppMenu.length - 1].handleClick.bind(this);\r\n    this.unauthorized.push(\"Placement\");\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.currentMode = undefined;\r\n    this.state.mode = null;\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n  renderMode() {\r\n    if(!this.state.mode) return null;\r\n    return (<this.state.mode key={this.constructor.className + this.state.mode.className} ref={el => {this.state.currentMode = el}} />);\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nPlacement.className = \"Placement\";\r\nPlacement.icon = undefined;\r\n\r\nexport default Placement;\r\n","import React, { Component } from 'react';\r\nimport './Mode.css';\r\n\r\n\r\n/*Pencil*/\r\nclass Mode extends Component {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Mode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"gridMode\">\r\n        <span className=\"gridMode__label\">Grid Distribution </span>\r\n        <span className=\"gridMode__text\">{this.constructor.className}</span>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nMode.className = \"Mode\";\r\n\r\nexport default Mode;\r\n","import React, { Component } from 'react';\r\nimport './GridMode.css';\r\nimport Mode from \"../Mode\";\r\n\r\n\r\n/*Pencil*/\r\nclass GridMode extends Mode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + GridMode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n}\r\n\r\nGridMode.className = \"GridMode\";\r\n\r\nexport default GridMode;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearY extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearY.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < columns; i++) {\r\n      sk.push();\r\n        sk.translate(column * i, 0);\r\n    \t\tfor(var j = 0; j < rows; j++) {\r\n          sk.push();\r\n            sk.translate(0, j * row);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n\r\n}\r\n\r\nLinearY.className = \"LinearY\";\r\n\r\nexport default LinearY;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearX extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearX.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback, lines} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < rows; i++) {\r\n      sk.push();\r\n        sk.translate(0, row * i);\r\n        if(lines) sk.line(0, 0, sk.width, 0);\r\n    \t\tfor(var j = 0; j < columns; j++) {\r\n          sk.push();\r\n            sk.translate(j * column, 0);\r\n            if(lines) sk.line(0, 0, 0, sk.height);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n}\r\n\r\nLinearX.className = \"LinearX\";\r\n\r\nexport default LinearX;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalLeft extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalLeft.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (let compteur = 0; compteur < columns; compteur++){\r\n      let i = columns - 1;\r\n      let j = compteur;\r\n      while(j >= 0){\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n    for (let compteur = columns-1; compteur > 0; compteur--){\r\n      let i = compteur - 1;\r\n      let j = rows - 1;\r\n      while (i >= 0) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nDiagonalLeft.className = \"DiagonalLeft\";\r\n\r\nexport default DiagonalLeft;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur < columns; compteur++){\r\n      for (var i = 0; i <= compteur; i++) {\r\n        sk.push();\r\n          sk.translate(column * i, (compteur-i) * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n    for (var compteur = columns - 1; compteur > 0; compteur--){\r\n      var i = columns-compteur;\r\n      var j = rows - 1;\r\n      while (i < columns) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i+=1;\r\n        j-=1;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nDiagonalRight.className = \"DiagonalRight\";\r\n\r\nexport default DiagonalRight;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass Orthogonal extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Orthogonal.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur <= columns; compteur++) {\r\n      let i, j;\r\n      for (i = 0; i <= compteur; i++){\r\n        sk.push();\r\n          sk.translate(i * column, compteur * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n      for (j = compteur - 1; j >= 0; j--){\r\n        sk.push();\r\n          sk.translate(column * compteur, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nOrthogonal.className = \"Orthogonal\";\r\n\r\nexport default Orthogonal;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass SnailRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + SnailRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    let a = Math.round(columns / 2) - 1;\r\n    let b = Math.round(rows / 2) - 1;\r\n    let side = 1;\r\n    let move = -1;\r\n\r\n    while (side <= columns) {\r\n      move *= -1;\r\n      for (let i = 0; i<side && a >= 0 && a < columns; i++) {\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        a += move;\r\n      }\r\n      if(a < 0 || a >= columns) break;\r\n\r\n      for (let i = 0; i<side && b >= 0 && b < rows; i++) {\r\n        console.log(a, b);\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        b += move;\r\n      }\r\n      side++;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nSnailRight.className = \"SnailRight\";\r\n\r\nexport default SnailRight;\r\n","import React, { Component } from 'react';\r\nimport Placement from '../Placement';\r\nimport './Grid.css';\r\nimport 'rc-slider/assets/index.css';\r\nimport Canvas from '../../Canvas/Canvas';\r\nimport DragBox from '../../DragBox/DragBox';\r\nimport ContextMenuBox from '../../ContextMenuBox/ContextMenuBox';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\nimport grid_on from '../../../Icons/grid_on.svg';\r\n\r\nimport LinearY from '../../Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from '../../Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from '../../Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from '../../Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from '../../Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from '../../Modes/GridMode/SnailRight/SnailRight';\r\n\r\nconst menu = [{\r\n  type: 'Modes',\r\n  elements: [\r\n    {type: 'DiagonalLeft'},\r\n    {type: 'DiagonalRight'},\r\n    {type: 'LinearX'},\r\n    {type: 'LinearY'},\r\n    {type: 'Orthogonal'},\r\n    {type: 'SnailRight'}\r\n  ]\r\n}];\r\n\r\n/*Pencil*/\r\nclass Grid extends Placement {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Grid.className;\r\n    //const {columns, rows} = this.props;\r\n    this.suppMenu[this.suppMenu.length - 1].menu = menu;\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.columns = 8;\r\n    this.state.rows = 8;\r\n    this.state.mode = LinearX;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n    var column = sk.width/this.state.columns;\r\n  \tvar row = sk.height/this.state.rows;\r\n    var elem = this.next;\r\n    var currentMode = this.state.currentMode;\r\n\r\n  \tif(!elem) sk.stroke(this.state.color.getP5Color(sk));\r\n\r\n    if(currentMode) {\r\n      currentMode.mode(sk, {\r\n        columns: this.state.columns,\r\n        rows: this.state.rows,\r\n        lines: elem ? false : true,\r\n        callback: function() {\r\n          if(elem) {\r\n            sk.noStroke();\r\n            sk.push();\r\n              sk.translate(column / 2, row / 2);\r\n              sk.scale(column, row);\r\n              sk.strokeWeight(1/column);\r\n              elem.draw(sk);\r\n              sk.strokeWeight(1);\r\n            sk.pop();\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  renderBox() {\r\n    return(\r\n      <>\r\n        <SliderBox\r\n        min={1}\r\n        max={50}\r\n        defaultValue={this.state.columns}\r\n        marks={{1: 1, 50: 50}}\r\n        step={1}\r\n        onChange={(value) => {this.setState({columns: value, rows: value});}}\r\n        />\r\n        {this.renderMode()}\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nGrid.className = \"Grid\";\r\nGrid.icon = grid_on;\r\n\r\nexport default Grid;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './RangeBox.css';\r\n\r\nclass RangeBox extends Input {\r\n    render() {\r\n        let trackStyleArray = new Array(this.props.count);\r\n        trackStyleArray.fill({height: '8px', backgroundColor: 'black', borderRadius: 'unset' });\r\n        let handleStyleArray = new Array(this.props.count);\r\n        handleStyleArray.fill({marginTop: '-3px', borderColor: 'black' });\r\n        return(\r\n        <Range\r\n        {...this.props}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={trackStyleArray}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={handleStyleArray}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value); Workspace.forceUpdate();}}\r\n        ref={el => {if(this.props.innerRef) this.props.innerRef(el);}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default RangeBox;\r\n","import React, { Component } from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport 'rc-slider/assets/index.css';\r\nimport './Markov.css';\r\nimport Workspace from '../Workspace/Workspace';\r\nimport RangeBox from '../Input/RangeBox/RangeBox';\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport next from '../../Icons/next.svg';\r\nimport unknown from '../../Icons/unknown.svg';\r\n\r\nfunction clamp_left(a, b) {\r\n   return a < b ? b : a;\r\n}\r\n\r\nfunction clamp_right(a, b) {\r\n   return a > b ? b : a;\r\n}\r\n\r\nfunction clamp(a, b, c) {\r\n  return clamp_left(clamp_right(a, c), b);\r\n}\r\n\r\nfunction checkLeft(userValue, i, handle) {\r\n  if (i < 0) return;\r\n  if (userValue <= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkLeft(userValue, --i, handle);\r\n  }\r\n}\r\n\r\nfunction checkRight(userValue, i, handle) {\r\n  if (i >= handle.length) return;\r\n  if (userValue >= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkRight(userValue, ++i, handle);\r\n  }\r\n}\r\n\r\n/*Pencil*/\r\nclass Markov extends BoxGroup {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Markov.className;\r\n    this.suppMenu = [];\r\n    this.elementsLength = this.state.children.length;\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n    this.idElement = [];\r\n    this.unauthorized.push(\"Placement\");\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.proba = [];\r\n  }\r\n\r\n  setChildren(children) {\r\n    super.setChildren(children);\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n  }\r\n\r\n  draw(sk) {\r\n    let length = this.state.children.length;\r\n    if(length === 0) return;\r\n    let element = this.elements[this.currentState];\r\n    if(length === 1) {\r\n      if(element) element.draw(sk);\r\n      return;\r\n    }\r\n    let proba = 0;\r\n    let rand = parseInt(Math.random() * (100));\r\n    let i;\r\n\r\n    for(i = 0; i < length && rand >= proba; ++i) {\r\n      proba = this.state.proba[this.currentState][i];\r\n    }\r\n\r\n    this.elements[i - 1].draw(sk);\r\n    this.currentState = i - 1;\r\n  }\r\n\r\n  renderBox() {\r\n    const length = this.state.children.length;\r\n    let defaultValues = [];\r\n    let sliders;\r\n\r\n    for(let i = 1; i <= length - 1; ++i) {\r\n      if (i == length-1) defaultValues.push(Math.floor(100/length/10)*10*i+100%(length*10));\r\n      else defaultValues.push(Math.floor(100/length/10)*10*i);\r\n    }\r\n\r\n    if(length - 1 > 0) {\r\n      let propsRange = {\r\n        min: 0,\r\n        max: 100,\r\n        defaultValue: defaultValues,\r\n        marks: {0:0, 100:100},\r\n        step: 5,\r\n        count: length - 1,\r\n        pushable: 0\r\n      };\r\n\r\n      sliders = this.state.children.map((child, index) => {\r\n        let inputs = [], RangeIcon;\r\n\r\n        RangeIcon = <span className=\"Markov__RangeIcon\">\r\n          <SVG src={child.type.icon}/>\r\n          <SVG src={next}/>\r\n          <SVG src={unknown}/>\r\n        </span>;\r\n\r\n          if(this.elementsLength !== length) {\r\n            this.state.proba[index] = [...defaultValues]; //remove reference\r\n            this.idElement[index] = shortid.generate();\r\n            propsRange.innerRef = (el) => {if(el) this.state.proba[index] = el.state.bounds};\r\n            propsRange.innerRef.bind(this);\r\n          }\r\n          propsRange.key = this.idElement[index];\r\n          propsRange.onChange = (value) => {this.state.proba[index] = value; Workspace.forceUpdate();}\r\n\r\n          for (let i = 0; i < length; i++) {\r\n            let propsInput = {\r\n              type: \"number\",\r\n              key: this.idElement[index]+i,\r\n              min: 0,\r\n              max: 100,\r\n              step: 5,\r\n            };\r\n            if (i == 0) {\r\n              propsInput.value = this.state.proba[index][i];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value, i, proba[index]);\r\n                checkRight(value, i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else if (i == length-1) {\r\n              propsInput.value = 100-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(100-value, i-1, proba[index]);\r\n                checkRight(100-value, i-1, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else {\r\n              propsInput.max = 100 - this.state.proba[index][i-1];\r\n              propsInput.value = this.state.proba[index][i]-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value+this.state.proba[index][i-1], i, proba[index]);\r\n                checkRight(value+this.state.proba[index][i-1], i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            }\r\n            propsInput.onKeyDown = propsInput.onChange;\r\n            inputs.push(<div className=\"Markov__InputContainer\">\r\n              <span className=\"Markov__InputIcon\">\r\n                <SVG src={this.state.children[i].type.icon}/>\r\n              </span>\r\n              <input className=\"Markov__Input\" {...propsInput}/>\r\n            </div>);\r\n          }\r\n\r\n          return (\r\n\r\n              <div className=\"Markov__Containers\">\r\n                <div className=\"Markov__RangeContainer\">\r\n                  {RangeIcon}\r\n                  <RangeBox {...propsRange}/>\r\n                </div>\r\n                <div className=\"Markov__InputsContainer\">\r\n                  {inputs}\r\n                </div>\r\n              </div>\r\n            );\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.elementsLength = length;\r\n\r\n    return <div className=\"Markov__Parameters\">{sliders}</div>;\r\n  }\r\n\r\n}\r\n\r\nMarkov.className = \"Markov\";\r\nMarkov.icon = undefined;\r\n\r\nexport default Markov;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Translate.css';\r\nimport translate from '../../../Icons/translate.svg';\r\n\r\n/*Attribute*/\r\nclass Translate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Translate.className;\r\n    this.destX = 10;\r\n    this.destY = 10;\r\n  }\r\n}\r\n\r\nTranslate.className = \"Translate\";\r\nTranslate.icon = translate;\r\n\r\n\r\nexport default Translate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Rotate.css';\r\nimport rotate from '../../../Icons/rotate.svg';\r\n\r\n/*Attribute*/\r\nclass Rotate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rotate.className;\r\n    this.rotate = 20;\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.rotate(sk.radians(this.rotate));\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }*/\r\n}\r\n\r\nRotate.className = \"Rotate\";\r\nRotate.icon = rotate;\r\n\r\nexport default Rotate;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Void.css';\r\nimport voidIcon from '../../Icons/void.svg';\r\n\r\n/*Pencil*/\r\nclass Void extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Void.className;\r\n    this.unauthorized = [\"*\"];\r\n    this.suppMenu = [];\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\nVoid.className = \"Void\";\r\nVoid.icon = voidIcon;\r\n\r\nexport default Void;\r\n","import Color from './Color';\r\n\r\nclass Blue extends Color {\r\n\r\n  constructor() {\r\n    super(0, 0, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nBlue.className = \"Blue\";\r\n\r\nexport default Blue;\r\n","import Color from './Color';\r\n\r\nclass Cyan extends Color {\r\n\r\n  constructor() {\r\n    super(0, 255, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nCyan.className = \"Cyan\";\r\n\r\nexport default Cyan;\r\n","import Color from './Color';\r\n\r\nclass Magenta extends Color {\r\n\r\n  constructor() {\r\n    super(255, 0, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nMagenta.className = \"Magenta\";\r\n\r\nexport default Magenta;\r\n","import Color from './Color';\r\n\r\nclass Yellow extends Color {\r\n\r\n  constructor() {\r\n    super(255, 255, 0, 255);\r\n  }\r\n\r\n}\r\n\r\nYellow.className = \"Yellow\";\r\n\r\nexport default Yellow;\r\n","import Color from './Color';\r\n\r\nclass White extends Color {\r\n\r\n  constructor() {\r\n    super(255, 255, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nWhite.className = \"White\";\r\n\r\nexport default White;\r\n","import Figure from './Figures/Figure';\r\nimport Rectangle from './Figures/Rectangle/Rectangle';\r\nimport Triangle from './Figures/Triangle/Triangle';\r\nimport Ellipse from './Figures/Ellipse/Ellipse';\r\nimport HHatching from './Figures/Hatching/HHatching/HHatching';\r\nimport VHatching from './Figures/Hatching/VHatching/VHatching';\r\nimport LOHatching from './Figures/Hatching/LOHatching/LOHatching';\r\nimport ROHatching from './Figures/Hatching/ROHatching/ROHatching';\r\nimport Placement from './Placement/Placement';\r\nimport Grid from './Placement/Grid/Grid';\r\nimport Markov from './Markov/Markov';\r\nimport Transform from './Transforms/Transform';\r\nimport Translate from './Transforms/Translate/Translate';\r\nimport Scale from './Transforms/Scale/Scale';\r\nimport Rotate from './Transforms/Rotate/Rotate';\r\nimport Color from './Colors/Color';\r\nimport Void from './Void/Void';\r\nimport Blue from './Colors/Blue';\r\nimport Cyan from './Colors/Cyan';\r\nimport Magenta from './Colors/Magenta';\r\nimport Yellow from './Colors/Yellow';\r\nimport Black from './Colors/Black';\r\nimport White from './Colors/White';\r\n\r\n//GridModes\r\nimport LinearY from './Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from './Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from './Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from './Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from './Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from './Modes/GridMode/SnailRight/SnailRight';\r\n\r\nexport function getClassFromName(name) {\r\n  switch(name) {\r\n    case('Figure'):\r\n      return Figure;\r\n    case('Rectangle'):\r\n      return Rectangle;\r\n    case('Triangle'):\r\n      return Triangle;\r\n    case('Ellipse'):\r\n      return Ellipse;\r\n    case('HHatching'):\r\n      return HHatching;\r\n    case('VHatching'):\r\n      return VHatching;\r\n    case('LOHatching'):\r\n      return LOHatching;\r\n    case('ROHatching'):\r\n      return ROHatching;\r\n    case('Placement'):\r\n      return Placement;\r\n    case('Grid'):\r\n      return Grid;\r\n    case('Markov'):\r\n      return Markov;\r\n    case('Transform'):\r\n      return Transform;\r\n    case('Color'):\r\n      return Color;\r\n    case('Blue'):\r\n      return Blue;\r\n    case('Cyan'):\r\n      return Cyan;\r\n    case('Magenta'):\r\n      return Magenta;\r\n    case('Black'):\r\n      return Black;\r\n    case('Yellow'):\r\n      return Yellow;\r\n    case('White'):\r\n      return White;\r\n    case('Translate'):\r\n      return Translate;\r\n    case('Scale'):\r\n      return Scale;\r\n    case('Rotate'):\r\n      return Rotate;\r\n    case('Void'):\r\n      return Void;\r\n    case('LinearX'):\r\n      return LinearX;\r\n    case('LinearY'):\r\n      return LinearY;\r\n    case('DiagonalLeft'):\r\n      return DiagonalLeft;\r\n    case('DiagonalRight'):\r\n      return DiagonalRight;\r\n    case('Orthogonal'):\r\n      return Orthogonal;\r\n    case('SnailRight'):\r\n      return SnailRight;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n//import Icons\r\nimport SVG from 'react-svg'\r\nimport icon_save_alt from '../../Icons/save_alt.svg';\r\nimport icon_code from '../../Icons/code.svg';\r\nimport icon_info from '../../Icons/info.svg';\r\n// import Components\r\nimport Workspace from '../../Components/Workspace/Workspace';\r\n// import Boxes\r\nimport {getClassFromName} from '../../Components/Index';\r\n\r\nwindow.getClassFromName = getClassFromName;\r\n\r\nwindow.updateWorkspace = Workspace.forceUpdate;\r\n\r\nwindow.addClassToElement = function(name, target) {\r\n  let cl = getClassFromName(name);\r\n  target.addChild(cl);\r\n  if(!(target instanceof Workspace)) {\r\n    Workspace.forceUpdate();\r\n  }\r\n};\r\n\r\nwindow.getIconClassFromName = function(name) {\r\n  let cl = getClassFromName(name);\r\n  if(cl) {\r\n    return cl.icon;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nwindow.isAuthorized = function(type, unauthorized) {\r\n  let r = true;\r\n  if(!type) return false;\r\n\r\n  if(unauthorized instanceof Array) {\r\n    let obj;\r\n    if(typeof type === \"string\") {\r\n      let cl = getClassFromName(type);\r\n      obj = new cl();\r\n    } else {\r\n      obj = new type();\r\n    }\r\n\r\n    for(let i = 0; i < unauthorized.length && r; ++i) {\r\n      console.log(unauthorized);\r\n      let unauthorizedClass = getClassFromName(unauthorized[i]);\r\n      if(unauthorizedClass === null) {\r\n        console.error(unauthorized[i] + \" : Invalid unauthorized Class\");\r\n        continue;\r\n      }\r\n      r = r && !(obj instanceof unauthorizedClass);\r\n    }\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\nlet toggle = false;\r\n\r\nclass App extends Component {\r\n  state = {\r\n    DownloadName: \"Untitled\",\r\n    DownloadFormat: \"svg\"\r\n  }\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  downloadImage = function(el) {\r\n    //var canvas = document.getElementById(\"defaultCanvas0\");\r\n    //var image = canvas.toDataURL(\"image/jpeg\");\r\n    //el.href = image;\r\n    Canvas.savePaper(this.state.DownloadName, this.state.DownloadFormat);\r\n  }\r\n\r\n  aboutClick() {\r\n    let aboutDisplay;\r\n    if(!toggle) {\r\n      toggle = !toggle;\r\n      aboutDisplay = {display: 'flex'};\r\n     } else {\r\n      toggle = !toggle;\r\n      aboutDisplay = {display: 'none'};\r\n     };\r\n    this.setState({aboutDisplay: aboutDisplay});\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header border-bottom\">\r\n          <div className=\"App-logo\">Paper&nbsp;&#123;&nbsp;&nbsp;&nbsp;&#125;</div>\r\n          <div className=\"about\" onClick={this.aboutClick.bind(this)}>\r\n            <SVG src={icon_info}/>\r\n          </div>\r\n          {/* <div className=\"aboutContainerBackground\"></div> */}\r\n        </header>\r\n        <main>\r\n            <div className=\"leftSide\">\r\n              <div className=\"aboutContainer\" style={this.state.aboutDisplay}>\r\n                <span className=\"aboutTitle\">What is Paper?<br/><br/><br/><br/></span>\r\n                <span>\r\nPaper is a sandbox for researching algorithmic processes in art. It should help producing drawings in the philosophy of generative processes.<br/>\r\nOur effort takes place in a dialectic with connectionism which currently has an upperhand in the sciences.<br/><br/><br/>\r\nPaper is a process developped by a group of people : ingineers, artists, students, researchers, ...<br/>\r\nPaper is based on the Experiment Generic Images 2018.<br/><br/>\r\nPaper is research. Paper enables creating new artworks.<br/><br/>\r\nPaper is algorithmic. Paper is intuitive. Paper works as an archive.<br/><br/>\r\nPapers' first algorithm is Markov Chain, an algorithm that was used in early computer art and now heavily used in our digital environment.<br/><br/><br/><br/>\r\nGaëtan Robillard with Nicolas Cusumano, Cécile Rousset, Vincent Schmid, Quentin Sedmi.\r\n                </span>\r\n              </div>\r\n              <Workspace>\r\n\r\n              </Workspace>\r\n          </div>\r\n            <div className=\"rightSide border-left\">\r\n              <div className=\"editionMenu border-bottom\">\r\n                <div className=\"button displayCode border-right\">\r\n                  <SVG src={icon_code}/>\r\n                </div>\r\n                <div className=\"save\">\r\n                  <input className=\"save__name\" type=\"text\" value={this.state.DownloadName} onChange={(event) => {this.setState({DownloadName: event.target.value})}}/>\r\n                  <div className=\"save__format\">\r\n                    <input id=\"save__svg\" type=\"radio\" value=\"svg\" name=\"saveFormat\" defaultChecked onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__svg\" className=\"save__formatItem button border-left\">.svg</label>\r\n                    <input id=\"save__jpg\" type=\"radio\" value=\"jpg\" name=\"saveFormat\" onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__jpg\" className=\"save__formatItem button border-left\">.jpg</label>\r\n                  </div>\r\n                  <a className=\"button save__button border-left\" onClick={(event) => this.downloadImage(event.target)}>\r\n                    <SVG src={icon_save_alt}/>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n                <Canvas/>\r\n            </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Containers/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { configure } from 'enzyme';\r\nimport Adapter from 'enzyme-adapter-react-16';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}