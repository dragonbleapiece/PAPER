{"version":3,"sources":["Icons/save_alt.svg","Icons/code.svg","Icons/info.svg","Icons/cancel.svg","Icons/arrow_right.svg","Icons/scale.svg","Icons/square.svg","Icons/triangle.svg","Icons/ellipse.svg","Icons/HHatching.svg","Icons/VHatching.svg","Icons/LOHatching.svg","Icons/ROHatching.svg","Icons/grid_on.svg","Icons/next.svg","Icons/unknown.svg","Icons/translate.svg","Icons/rotate.svg","Icons/void.svg","Components/Canvas/Canvas.js","Constants.js","Components/DropBox/DropBox.js","Components/DragBox/DragBox.js","Components/ContextMenuBox/ContextMenuBox.js","Components/Colors/Color.js","Components/Transforms/Transform.js","Components/Input/Input.js","Components/Input/SliderBox/SliderBox.js","Components/Transforms/Scale/Scale.js","Components/Box/Box.js","Components/BoxGroup/BoxGroup.js","Components/Colors/Black.js","Components/Workspace/Workspace.js","Components/Figures/Figure.js","Components/Figures/Rectangle/Rectangle.js","Components/Figures/Triangle/Triangle.js","Components/Figures/Ellipse/Ellipse.js","Components/Figures/Hatching/Hatching.js","Components/Figures/Hatching/HHatching/HHatching.js","Components/Figures/Hatching/VHatching/VHatching.js","Components/Figures/Hatching/LOHatching/LOHatching.js","Components/Figures/Hatching/ROHatching/ROHatching.js","Components/Placement/Placement.js","Components/Modes/Mode.js","Components/Modes/GridMode/GridMode.js","Components/Modes/GridMode/LinearY/LinearY.js","Components/Modes/GridMode/LinearX/LinearX.js","Components/Modes/GridMode/DiagonalLeft/DiagonalLeft.js","Components/Modes/GridMode/DiagonalRight/DiagonalRight.js","Components/Modes/GridMode/Orthogonal/Orthogonal.js","Components/Modes/GridMode/SnailRight/SnailRight.js","Components/Placement/Grid/Grid.js","Components/Input/RangeBox/RangeBox.js","Components/Markov/Markov.js","Components/Transforms/Translate/Translate.js","Components/Transforms/Rotate/Rotate.js","Components/Void/Void.js","Components/Colors/Blue.js","Components/Colors/Cyan.js","Components/Colors/Magenta.js","Components/Colors/Yellow.js","Components/Colors/White.js","Components/Index.js","Containers/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","p5","require","Canvas","props","_this","Object","classCallCheck","this","undefined","_instance","possibleConstructorReturn","getPrototypeOf","call","state","function","width","height","strokeWeight","assertThisInitialized","filename","extension","_P5","savePaper","ext","arguments","length","canvasWidth","window","innerWidth","canvasHeight","innerHeight","CanvasSize","setState","self","sk","setup","bind","draw","windowResized","strokeScale","f","CalcCanvasSize","resizeCanvas","save","_this$state","createCanvas","SVG","noLoop","updateWorkspace","scale","initP5","react_default","a","createElement","className","id","Component","ItemTypes","boxTarget","canDrop","monitor","getItem","hover","component","drop","didDrop","item","clientOffset","getClientOffset","componentRect","findDOMNode","getBoundingClientRect","x","right","y","bottom","left","top","moved","DropBox","_this$props","isOver","connectDropTarget","constructor","children","DropTarget","connect","dropTarget","isOverCurrent","shallow","itemType","getItemType","boxSource","beginDrag","endDrag","result","getDropResult","setPosition","DragBox","d","coord","Number","isNaN","parseInt","el","style","console","log","position","setStyle","onClose","Workspace","forceUpdate","connectDragSource","isDragging","connectDragPreview","onClick","react_svg","src","cancel","icon","fill","color","name","DragSource","dragPreview","dragSource","menu","type","elements","ContextMenuBox","event","data","addClassToElement","m","handleClick","_this2","map","index","unauthorized","indexOf","getIconClassFromName","es6","key","shortid","generate","title","Fragment","arrow_right","getMenu","menuItems","suppMenu","concat","holdToDisplay","Color","r","g","b","Transform","Input","SliderBox","es","min","max","defaultValue","marks","step","steps","padding","trackStyle","backgroundColor","borderRadius","railStyle","handleStyle","marginTop","borderColor","dotStyle","onChange","value","Scale","Input_SliderBox_SliderBox","1","50","scaleIcon","menuColor","Box","next","nextType","drawBeforeType","getClassFromName","_id","Function","push","i","child","obj","isAuthorized","parent","filter","setChildren","elmnt","callDrawBeforeType","_this3","ref","_this4","Transforms_Scale_Scale","c","formatedColor","Components_ContextMenuBox_ContextMenuBox","Components_DragBox_DragBox","removeFromParent","renderBox","getTransforms","Components_DropBox_DropBox","getChildren","BoxGroup","get","prototype","element","drawBeforeChild","pop","React","Children","Black","addDrawBeforeType","translate","box","addChild","background","getP5Color","noStroke","sendDraw","DragDropContext","HTML5Backend","Figure","drawFigure","Rectangle","rect","square","Triangle","triangle","Ellipse","ellipse","Hatching","density","stroke","HHatching","gapY","j","line","HHatchingIcon","VHatching","gapX","VHatchingIcon","LOHatching","LOHatchingIcon","ROHatching","ROHatchingIcon","Placement","currentMode","mode","Mode","GridMode","LinearY","rows","columns","callback","column","row","LinearX","lines","DiagonalLeft","compteur","DiagonalRight","Orthogonal","SnailRight","Math","round","side","move","Grid","elem","renderMode","grid_on","RangeBox","trackStyleArray","Array","count","handleStyleArray","assign","innerRef","clamp","clamp_left","clamp_right","checkLeft","userValue","handle","checkRight","Markov","proba","elementsLength","currentState","random","idElement","rand","sliders","defaultValues","floor","propsRange","0","100","pushable","RangeIcon","inputs","unknown","bounds","_loop","propsInput","target","Input_RangeBox_RangeBox","Translate","destX","destY","Rotate","rotate","Void","voidIcon","Blue","Cyan","Magenta","Yellow","White","cl","unauthorizedClass","error","toggle","App","DownloadName","DownloadFormat","downloadImage","aboutDisplay","display","aboutClick","icon_info","Components_Workspace_Workspace","icon_code","defaultChecked","checked","htmlFor","icon_save_alt","Components_Canvas_Canvas","Boolean","location","hostname","match","configure","adapter","Adapter","ReactDOM","render","Containers_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7bd9928f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/save_alt.3ccde972.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.74f0e940.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.b08ccdbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.4afab8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.79443cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/scale.08ae3836.svg\";","module.exports = __webpack_public_path__ + \"static/media/square.5b5b5ce7.svg\";","module.exports = __webpack_public_path__ + \"static/media/triangle.3963bd74.svg\";","module.exports = __webpack_public_path__ + \"static/media/ellipse.37dda89e.svg\";","module.exports = __webpack_public_path__ + \"static/media/HHatching.f3da2da9.svg\";","module.exports = __webpack_public_path__ + \"static/media/VHatching.c8766020.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOHatching.186b393d.svg\";","module.exports = __webpack_public_path__ + \"static/media/ROHatching.8c0092fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/grid_on.8ace643b.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.0f510805.svg\";","module.exports = __webpack_public_path__ + \"static/media/unknown.3f5bae44.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.aaf3d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.5d1fc53d.svg\";","module.exports = __webpack_public_path__ + \"static/media/void.a2a55d7b.svg\";","import React, { Component } from 'react';\r\nimport './Canvas.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nvar p5 = require('p5');\r\nrequire('p5.js-svg')(p5);\r\n\r\nclass Canvas extends Component {\r\n\r\n  /*Singleton*/\r\n  static _instance;\r\n  static _P5;\r\n  static savePaper(filename, extension) {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.savePaper(filename, extension);\r\n    }\r\n  }\r\n\r\n\r\n  state = {\r\n    function: undefined,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    if(Canvas._instance != undefined) {\r\n      return Canvas._instance;\r\n    }\r\n    super(props);\r\n    this.strokeWeight = 1;\r\n\r\n    Canvas._instance = this;\r\n  }\r\n\r\n  setfilename(filename, ext = undefined) {\r\n    this.filename = filename;\r\n    if(ext !== undefined) this.extension = ext;\r\n  }\r\n\r\n  CalcCanvasSize() {\r\n    let canvasWidth = window.innerWidth*0.5-60;\r\n    let canvasHeight = window.innerHeight-180;\r\n    let CanvasSize = (canvasWidth < canvasHeight) ? canvasWidth : canvasHeight;\r\n    this.setState({width: CanvasSize, height: CanvasSize});\r\n  }\r\n\r\n  initP5() {\r\n    let self = this;\r\n    let s = (sk) => {\r\n      sk.setup = self.setup.bind(self, sk);\r\n      sk.draw = self.draw.bind(self, sk);\r\n      sk.windowResized = self.windowResized.bind(self, sk);\r\n      sk.savePaper = self.savePaper.bind(self, sk);\r\n      sk.strokeScale = self.strokeScale.bind(self, sk);\r\n\r\n    }\r\n\r\n    Canvas._P5 = new p5(s, 'renderer');\r\n  }\r\n\r\n  sendDraw(f) {\r\n    this.setState({\r\n      function: f\r\n    });\r\n  }\r\n\r\n  resetDraw() {\r\n    this.setState({\r\n      function: undefined\r\n    });\r\n  }\r\n\r\n  windowResized(sk) {\r\n    this.CalcCanvasSize();\r\n    sk.resizeCanvas(this.state.width, this.state.height);\r\n  }\r\n\r\n  savePaper(sk, filename, extension) {\r\n    if(filename !== undefined || extension !== undefined) {\r\n      sk.save(filename + \".\" + extension);\r\n    }\r\n  }\r\n\r\n  setup(sk) {\r\n    const {width, height} = this.state;\r\n    sk.createCanvas(width, height, sk.SVG);\r\n    sk.noLoop();\r\n    window.updateWorkspace();\r\n  }\r\n\r\n  strokeScale(sk, scale) {\r\n    this.strokeWeight *= scale;\r\n    sk.strokeWeight(this.strokeWeight);\r\n  }\r\n\r\n  draw(sk) {\r\n    let f = this.state.function;\r\n    if(f !== undefined) {\r\n      f(sk);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.CalcCanvasSize();\r\n    this.initP5();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    Canvas._P5.draw();\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvasContainer\">\r\n        <div id=\"renderer\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCanvas._instance = undefined;\r\nCanvas._P5 = undefined;\r\n\r\n/*PropTypes*/\r\nCanvas.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  cells: PropTypes.number\r\n}\r\n\r\nexport default Canvas;\r\n","export const ItemTypes = {\r\n  BOX: 'box'\r\n};\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport { DropTarget, DragSource } from 'react-dnd';\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDropTarget: connect.dropTarget(),\r\n    // You can ask the monitor about the current drag state:\r\n    isOver: monitor.isOver(),\r\n    isOverCurrent: monitor.isOver({ shallow: true }),\r\n    canDrop: monitor.canDrop(),\r\n    itemType: monitor.getItemType()\r\n  };\r\n}\r\n\r\n//Functions for dropping the box\r\nconst boxTarget = {\r\n  canDrop(props, monitor) {\r\n    // You can disallow drop based on props or item\r\n    const item = monitor.getItem();\r\n    //return canMakeChessMove(item.fromPosition, props.position);\r\n    return true;\r\n  },\r\n\r\n  hover(props, monitor, component) {\r\n    // This is fired very often and lets you perform side effects\r\n    // in response to the hover. You can't handle enter and leave\r\n    // here—if you need them, put monitor.isOver() into collect() so you\r\n    // can just use componentDidUpdate() to handle enter/leave.\r\n\r\n    return;\r\n\r\n    // You can access the coordinates if you need them\r\n\r\n    // You can check whether we're over a nested drop target\r\n    const isJustOverThisOne = monitor.isOver({ shallow: true });\r\n\r\n    // You will receive hover() even for items for which canDrop() is false\r\n    const canDrop = monitor.canDrop();\r\n  },\r\n\r\n  drop(props, monitor, component) {\r\n    if (monitor.didDrop()) {\r\n      // If you want, you can check whether some nested\r\n      // target already handled drop\r\n      return;\r\n    }\r\n\r\n    // Obtain the dragged item\r\n    let item = monitor.getItem();\r\n\r\n    // You can do something with it\r\n    const clientOffset = monitor.getClientOffset();\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    if(clientOffset.x > componentRect.right\r\n      || clientOffset.y > componentRect.bottom\r\n      || clientOffset.x < componentRect.left\r\n      || clientOffset.y < componentRect.top) {\r\n      return;\r\n    }\r\n\r\n    // You give to the currently moving item the new positions\r\n    item.x = clientOffset.x - item.x;\r\n    item.y = clientOffset.y - item.y;\r\n\r\n\r\n    // You can also do nothing and return a drop result,\r\n    // which will be available as monitor.getDropResult()\r\n    // in the drag source's endDrag() method\r\n    return { moved: true };\r\n  }\r\n};\r\n\r\n\r\nclass DropBox extends Component {\r\n\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isOver, canDrop, connectDropTarget } = this.props;\r\n    return connectDropTarget(\r\n      <div className={this.constructor.className}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropBox.className = \"DropBox\";\r\n\r\nexport default DropTarget(ItemTypes.BOX, boxTarget, collect)(DropBox);\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport {DragSource} from 'react-dnd';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport cancel from '../../Icons/cancel.svg';\r\n\r\n//Functions for dragging the box\r\nconst boxSource = {\r\n  beginDrag(props, monitor, component) {\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n    const clientOffset = monitor.getClientOffset();\r\n    let item = clientOffset;\r\n    return item;\r\n  },\r\n  endDrag(props, monitor, component) {\r\n    const item = monitor.getItem();\r\n    const result = monitor.getDropResult();\r\n    if(result !== null && result.moved) {\r\n      component.setPosition(item);\r\n    }\r\n    return {};\r\n  }\r\n};\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\n\r\nclass DragBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  setPosition(d) {\r\n    if(!d) return;\r\n    const coord = {\r\n      x: !Number.isNaN(parseInt(this.props.el.state.style.left)) ? parseInt(this.props.el.state.style.left) : 0,\r\n      y: !Number.isNaN(parseInt(this.props.el.state.style.top)) ? parseInt(this.props.el.state.style.top) : 0\r\n    };\r\n\r\n    console.log(coord);\r\n    const style = {\r\n      \"position\": \"absolute\",\r\n      \"top\": d.y + coord.y + \"px\",\r\n      \"left\": d.x + coord.x + \"px\"\r\n    };\r\n    this.props.el.setStyle(style);\r\n  }\r\n\r\n  onClose() {\r\n      if(this.props.onClose !== undefined) {\r\n        this.props.onClose();\r\n      }\r\n      Workspace.forceUpdate();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isDragging, connectDragSource, connectDragPreview } = this.props;\r\n\r\n\r\n\r\n    return connectDragPreview(\r\n      <div className=\"Box__wrapper\">\r\n        <span className=\"Box__titleClose\" onClick={this.onClose.bind(this)}>\r\n            <SVG src={cancel}/>\r\n        </span>\r\n        {connectDragSource(<span className=\"Box__title\">\r\n          {this.props.icon && <SVG className=\"Box__titleIcon\" src={this.props.icon} style={{fill: this.props.color}}/>}\r\n          <span className=\"Box__titleText\" style={{color: this.props.color}}>{this.props.name}</span>\r\n        </span>)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragSource(ItemTypes.BOX, boxSource, collect)(DragBox);\r\n","import React, { Component } from 'react';\r\nimport './ContextMenuBox.css';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport arrow_right from '../../Icons/arrow_right.svg';\r\n\r\nconst menu = [\r\n  {\r\n    type: 'Placement',\r\n    elements: [\r\n      {type: 'Grid'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Elements',\r\n    elements: [\r\n      {type: 'Rectangle'},\r\n      {type: 'Triangle'},\r\n      {type: 'Ellipse'},\r\n      {type: 'HHatching'},\r\n      {type: 'VHatching'},\r\n      {type: 'LOHatching'},\r\n      {type: 'ROHatching'},\r\n      {type: 'Void'}\r\n    ]\r\n  },\r\n  {\r\n    type: 'Markov'\r\n  }\r\n];\r\n\r\nclass ContextMenuBox extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  handleClick(event, data) {\r\n    if(data.type !== undefined) {\r\n      window.addClassToElement(data.type, data.el);\r\n    }\r\n  }\r\n\r\n  getMenu(m, handleClick) {\r\n    return m.map(\r\n      (item, index) => {\r\n        if(this.props.el.unauthorized.indexOf(item.type) === -1) {\r\n          let icon = window.getIconClassFromName(item.type);\r\n          if (!item.elements) {\r\n            return (<MenuItem onClick={handleClick} data={{ type: item.type, el: this.props.el }} key={shortid.generate()}>\r\n              {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n              <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n            </MenuItem>);\r\n          } else {\r\n            return (<SubMenu key={shortid.generate()} title={\r\n              <>\r\n                <span  className=\"react-contextmenu-itemLabel\">\r\n                {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n                <span className=\"react-contextmenu-itemText\">{item.type}</span>\r\n                </span>\r\n                <span className=\"react-contextmenu-itemIcon\"><SVG src={arrow_right}/></span>\r\n              </>\r\n            }>\r\n                {this.getMenu(item.elements, handleClick)}\r\n            </SubMenu>);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    let menuItems = [];\r\n    if(this.props.el.unauthorized.indexOf(\"*\") === -1) {\r\n      menuItems = this.getMenu(menu, this.handleClick.bind(this));\r\n    }\r\n\r\n    for(let key in this.props.suppMenu) {\r\n      let suppMenu = this.props.suppMenu[key];\r\n      if( suppMenu.menu && suppMenu.handleClick ) {\r\n        menuItems = menuItems.concat(this.getMenu(suppMenu.menu, suppMenu.handleClick));\r\n      }\r\n    }\r\n\r\n    console.log(this.props.el.constructor.className, menuItems, menuItems.length);\r\n\r\n    return (\r\n      <>\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n        {(menuItems.length > 0) && <ContextMenu id={this.props.id}>\r\n            {menuItems}\r\n        </ContextMenu>}\r\n      </>\r\n    );\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default ContextMenuBox;\r\n","class Color {\r\n\r\n  constructor(r = 0, g = 0, b = 0, a = 255) {\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n    this.a = a;\r\n  }\r\n\r\n  getP5Color(sk) {\r\n    return sk.color(this.r, this.g, this.b, this.a);\r\n  }\r\n\r\n}\r\n\r\nColor.className = \"Color\";\r\n\r\nexport default Color;\r\n","import React, { Component } from 'react';\r\nimport './Transform.css';\r\n\r\n\r\n/*Attribute*/\r\nclass Transform extends Component {\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Transform.className;\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nTransform.className = \"Transform\";\r\nTransform.icon = undefined;\r\n\r\nexport default Transform;\r\n","import React, { Component } from 'react';\r\nimport './Input.css';\r\n\r\nclass Input extends Component {\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './SliderBox.css';\r\n\r\nclass SliderBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Slider\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={{marginTop: '-3px', borderColor: 'black' }}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {if(this.props.onChange) {this.props.onChange(value); Workspace.forceUpdate();}}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SliderBox;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Scale.css';\r\nimport scaleIcon from '../../../Icons/scale.svg';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\n\r\n/*Attribute*/\r\nclass Scale extends Transform {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Scale.className;\r\n    this.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.scale(this.scaleX, this.scaleY);\r\n      let max = Math.max(this.scaleX, this.scaleY);\r\n      sk.strokeWeight(1/max);\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n      sk.strokeWeight(1);\r\n    sk.pop();\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <SliderBox min={1} max={50} defaultValue={10} marks={{1:0.1, 50:5}} step={1} onChange={(value) => {\r\n        this.scale = {x: value / 10, y: value / 10};\r\n        if(this.props.onChange) this.props.onChange(this.scale);\r\n      }} />\r\n    );\r\n  }\r\n}\r\n\r\nScale.className = \"Scale\";\r\nScale.icon = scaleIcon;\r\n\r\nexport default Scale;\r\n","import React, { Component } from 'react';\r\nimport './Box.css';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Color from '../Colors/Color';\r\nimport Scale from '../Transforms/Scale/Scale';\r\n\r\nconst menuColor = [\r\n  {\r\n    type: 'Color',\r\n    elements: [\r\n      {type: 'Blue'},\r\n      {type: 'Cyan'},\r\n      {type: 'Magenta'},\r\n      {type: 'Yellow'},\r\n      {type: 'Black'},\r\n      {type: 'White'}\r\n    ]\r\n  }\r\n];\r\n\r\n\r\n/*Pencil*/\r\nclass Box extends Component {\r\n\r\n  static get id() {\r\n    return Box._id++;\r\n  }\r\n\r\n  state = {\r\n    children: [],\r\n    style: {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Box.className;\r\n    this.name = Box.className;\r\n    this.next = undefined;\r\n    this.nextType = undefined;\r\n    this.unauthorized = [];\r\n    this.state.scale = {x: 1, y: 1};\r\n    this.drawBeforeType = {};\r\n    this.suppMenu = [{\r\n      menu: menuColor,\r\n      handleClick: (event, data) => {\r\n       if(data.type) {\r\n         let color = window.getClassFromName(data.type);\r\n         if(color) this.setState({color: new color()});\r\n         window.updateWorkspace();\r\n       }\r\n      }\r\n    }];\r\n    this.state.color = new Color(255, 255, 255);\r\n\r\n  }\r\n\r\n  addDrawBeforeType(type, f) {\r\n    if(!(f instanceof Function)) return;\r\n    if(!this.drawBeforeType[type]) {\r\n      this.drawBeforeType[type] = [f];\r\n    } else {\r\n      this.drawBeforeType[type].push(f);\r\n    }\r\n  }\r\n\r\n  callDrawBeforeType(sk, type) {\r\n    for(let i = 0; i < this.drawBeforeType[type].length; ++i) {\r\n      this.drawBeforeType[type][i](sk);\r\n    }\r\n  }\r\n\r\n  addChild(child) {\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(window.isAuthorized(child, this.unauthorized) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [{type:child, id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.setState({\r\n      children: children\r\n    })\r\n  }\r\n\r\n  removeFromParent() {\r\n    let children = this.props.parent.state.children;\r\n    children = children.filter(el => el.id !== this.props.id);\r\n    this.props.parent.setChildren(children);\r\n  }\r\n\r\n  addNext(elmnt) {\r\n    if(elmnt !== undefined) {\r\n      if(elmnt instanceof Box) {\r\n        this.next = elmnt;\r\n        this.nextType = elmnt.constructor.name;\r\n      }\r\n    }\r\n  }\r\n\r\n  setStyle(style) {\r\n    this.setState({\r\n      style: style\r\n    });\r\n  }\r\n\r\n  drawBeforeChild(sk, child) {\r\n    if(!child) return;\r\n    for(let key in this.drawBeforeType) {\r\n      console.log(key);\r\n      if(child instanceof window.getClassFromName(key)) {\r\n        this.callDrawBeforeType(sk, key);\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n\r\n  getChildren() {\r\n    this.next = undefined;\r\n    let children = [];\r\n\r\n    if(this.state.children.length > 0) {\r\n      let child = this.state.children[0];\r\n      children.push(<child.type key={child.id} parent={this} id={child.id} ref={el => {this.next = el}}/>);\r\n    }\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  getTransforms() {\r\n    return (\r\n      <Scale onChange={(scale) => {this.setState({scale: scale});}}/>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let c = this.state.color;\r\n    let formatedColor = (c.r+c.g+c.b !== 0) ? \"rgba(\"+c.r+\", \"+c.g+\", \"+c.b+\", \"+c.a/255+\")\" : \"rgba(255, 255, 255, 1)\";\r\n\r\n    console.log(this.state.color);\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DragBox icon={this.constructor.icon} color={formatedColor} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} el={this}>\r\n            <span className=\"Box__content\">\r\n              <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n                {this.getTransforms()}\r\n              </ContextMenuTrigger>\r\n              <DropBox>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id}>\r\n                  {this.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBox._id = 0; //or use shortid ?\r\nBox.className = \"Box\";\r\nBox.icon = undefined;\r\n\r\nexport default Box;\r\n","import React, { Component } from 'react';\r\nimport './BoxGroup.css';\r\nimport Box from '../Box/Box';\r\nimport {shallow, instance} from 'enzyme';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\n\r\n/*Pencil*/\r\nclass BoxGroup extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = BoxGroup.className;\r\n    this.elements = [];\r\n  }\r\n\r\n  addChild(child) {\r\n\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(this.unauthorized.indexOf(child.name) === -1 && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push({type: child, id: Box.id});\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.elements = [];\r\n    super.setChildren(children);\r\n  }\r\n\r\n  draw(sk) {\r\n    let el = this.elements;\r\n    for(let i = 0; i <el.length; ++i) {\r\n       let element = el[i];\r\n       sk.push();\r\n         this.drawBeforeChild(sk, element);\r\n         if(element) element.draw(sk);\r\n        sk.pop();\r\n    }\r\n  }\r\n\r\n  initElements(instance = Box, callback = function() {}) {\r\n\r\n    let elements = [];\r\n\r\n    const children = React.Children.map(this.props.children,\r\n       (child, index) => {\r\n              elements.push(child);\r\n              //box.parent = callback;\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.initElements();\r\n  }\r\n\r\n  getChildren() {\r\n    this.elements = [];\r\n    let children = this.state.children.map((child, index) =>\r\n      <child.type key={child.id} id={child.id} parent={this} ref={el => this.elements[index] = el}/>\r\n    );\r\n\r\n\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} suppMenu={this.suppMenu} unauthorized={this.unauthorized} el={this}>\r\n          <DragBox icon={this.constructor.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} className={this.className} el={this}>\r\n            <span className=\"Box__content\">\r\n              <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n              </ContextMenuTrigger>\r\n              <DropBox>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id}>\r\n                  {this.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBoxGroup.className = \"BoxGroup\";\r\nBoxGroup.icon = undefined;\r\n\r\nexport default BoxGroup;\r\n","import Color from './Color';\r\n\r\nclass Black extends Color {\r\n\r\n  constructor() {\r\n    super(0, 0, 0, 255);\r\n  }\r\n\r\n}\r\n\r\nBlack.className = \"Black\";\r\n\r\nexport default Black;\r\n","import React, { Component } from 'react';\r\nimport './Workspace.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport Box from '../Box/Box';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport {shallow, instance} from 'enzyme';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport ItemTypes from '../../Constants.js';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport Black from '../Colors/Black';\r\n\r\n\r\nclass Workspace extends BoxGroup {\r\n\r\n  static _instance;\r\n\r\n  static addChild(box) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addChild(box);\r\n    }\r\n  }\r\n\r\n  static forceUpdate() {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.forceUpdate();\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    if(Workspace._instance !== undefined) {\r\n      return Workspace._instance;\r\n    }\r\n    super(props);\r\n    this.className = this.constructor.className;\r\n    this.state.children = [];\r\n    this.state.color = new Black();\r\n    this.elements = []; //no this.state.elements\r\n    this.unauthorized = [\"Markov\"];\r\n    this.addDrawBeforeType(\"Figure\", function(sk) {\r\n      sk.translate(sk.width / 2, sk.height / 2)\r\n      sk.scale(sk.width, sk.height);\r\n      sk.strokeWeight(1 / sk.width);\r\n    });\r\n    Workspace._instance = this;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.background(this.state.color.getP5Color(sk));\r\n    sk.noStroke();\r\n    super.draw(sk);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    canvas.sendDraw(this.draw.bind(this));\r\n  }\r\n\r\n  //dead code\r\n  /*componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    let next = undefined;\r\n    let children = this.state.elements.reverse();\r\n    let instance = undefined;\r\n\r\n    if(children.length > 0) {\r\n      for(let i = 0; i < children.length; ++i) {\r\n        let child = children[i];\r\n        if(child === undefined) continue;\r\n        if(child instanceof Box) {\r\n          child.addNext(next);\r\n          next = child;\r\n        }\r\n        else if(shallow(child).instance() instanceof Box) {\r\n          instance = shallow(child).instance();\r\n          instance.addNext(next);\r\n          next = instance;\r\n        }\r\n      }\r\n\r\n      if(instance !== undefined) {\r\n        canvas.sendDraw(instance.draw.bind(instance));\r\n      } else {\r\n        canvas.sendDraw(children[children.length - 1].draw.bind(children[children.length - 1]));\r\n      }\r\n    }\r\n  }*/\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className}>\r\n        <ContextMenuBox id={this.constructor.className} unauthorized={this.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DropBox>\r\n            {!this.state.children.length && <span className=\"Workspace__placeholder\">Right click here</span>}\r\n            {this.getChildren()}\r\n          </DropBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nWorkspace.className = \"Workspace\";\r\nWorkspace._instance = undefined;\r\n\r\nexport default DragDropContext(HTML5Backend)(Workspace);\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Figure.css';\r\n\r\n/*Pencil*/\r\nclass Figure extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Figure.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 0;\r\n    this.height = 0;\r\n    this.unauthorized = [\"*\"];\r\n  }\r\n\r\n  drawFigure(sk) {\r\n\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.fill(this.state.color.getP5Color(sk));\r\n      sk.scale(this.state.scale.x, this.state.scale.y);\r\n      sk.translate(-this.width / 2, -this.height / 2);\r\n      this.drawFigure(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nFigure.className = \"Figure\";\r\nFigure.icon = undefined;\r\n\r\nexport default Figure;\r\n","import React, { Component } from 'react';\r\nimport './Rectangle.css';\r\nimport Figure from '../Figure';\r\nimport square from '../../../Icons/square.svg';\r\n\r\n/*Pencil*/\r\nclass Rectangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rectangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.rect(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nRectangle.className = \"Rectangle\";\r\nRectangle.icon = square;\r\n\r\nexport default Rectangle;\r\n","import React, { Component } from 'react';\r\nimport './Triangle.css';\r\nimport Figure from '../Figure';\r\nimport triangle from '../../../Icons/triangle.svg';\r\n\r\n/*Pencil*/\r\nclass Triangle extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Triangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.triangle(this.x, this.y + this.height, this.x + this.width, this.y + this.height, (this.x + this.width) / 2, this.y);\r\n  }\r\n}\r\n\r\nTriangle.className = \"Triangle\";\r\nTriangle.icon = triangle;\r\n\r\nexport default Triangle;\r\n","import React, { Component } from 'react';\r\nimport './Ellipse.css';\r\nimport Figure from '../Figure';\r\nimport ellipse from '../../../Icons/ellipse.svg';\r\n\r\n/*Pencil*/\r\nclass Ellipse extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Ellipse.className;\r\n    this.width = 1;\r\n    this.height = 1;\r\n    this.x = this.width / 2;\r\n    this.y = this.height / 2;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.ellipse(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nEllipse.className = \"Ellipse\";\r\nEllipse.icon = ellipse;\r\n\r\nexport default Ellipse;\r\n","import React, { Component } from 'react';\r\nimport Figure from '../Figure';\r\nimport './Hatching.css';\r\n\r\n/*Pencil*/\r\nclass Hatching extends Figure {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Hatching.className;\r\n    this.density = 10;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.stroke(this.state.color.getP5Color(sk));\r\n    super.draw(sk);\r\n    sk.noStroke();\r\n  }\r\n\r\n}\r\n\r\nHatching.className = \"Hatching\";\r\nHatching.icon = undefined;\r\n\r\nexport default Hatching;\r\n","import React, { Component } from 'react';\r\nimport './HHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport HHatchingIcon from '../../../../Icons/HHatching.svg';\r\n\r\n/*Pencil*/\r\nclass HHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + HHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let gapY = this.height / this.density;\r\n    for(var j = 0; j <= this.density ; j++){\r\n      sk.line(this.x, this.y + j * gapY, this.x + this.width, this.y + j * gapY);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nHHatching.className = \"HHatching\";\r\nHHatching.icon = HHatchingIcon;\r\n\r\nexport default HHatching;\r\n","import React, { Component } from 'react';\r\nimport './VHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport VHatchingIcon from '../../../../Icons/VHatching.svg';\r\n\r\n/*Pencil*/\r\nclass VHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + VHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let gapX = this.width / this.density;\r\n    for(var i = 0; i <= this.density ; i++){\r\n      sk.line(this.x + i * gapX, this.y, this.x + i * gapX, this.y + this.height);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nVHatching.className = \"VHatching\";\r\nVHatching.icon = VHatchingIcon;\r\n\r\nexport default VHatching;\r\n","import React, { Component } from 'react';\r\nimport './LOHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport LOHatchingIcon from '../../../../Icons/LOHatching.svg';\r\n\r\n/*Pencil*/\r\nclass LOHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LOHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x;\r\n    let j = this.y + this.height;\r\n    let gapX = (this.width / this.density);\r\n    let gapY = (this.height / this.density);\r\n    while(i < this.x + this.width){\r\n      sk.line(i, this.y, this.x+this.width, j);\r\n      i += gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x + this.width;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(this.x, j, i, this.y+this.height);\r\n      i -= gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nLOHatching.className = \"LOHatching\";\r\nLOHatching.icon = LOHatchingIcon;\r\n\r\nexport default LOHatching;\r\n","import React, { Component } from 'react';\r\nimport './ROHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport ROHatchingIcon from '../../../../Icons/ROHatching.svg';\r\n\r\n/*Pencil*/\r\nclass ROHatching extends Hatching {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + ROHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x + this.width;\r\n    let j = this.y + this.height;\r\n    let gapX = (this.width / this.density);\r\n    let gapY = (this.height / this.density);\r\n    while(j > this.y){\r\n      sk.line(this.x, j, i, this.y);\r\n      i -= gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(i, this.y + this.height, this.x + this.width, j);\r\n      i += gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nROHatching.className = \"ROHatching\";\r\nROHatching.icon = ROHatchingIcon;\r\n\r\nexport default ROHatching;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Placement.css';\r\nimport shortid from 'shortid';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n\r\n/*Pencil*/\r\nclass Placement extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Placement.className;\r\n    this.state.currentMode = undefined;\r\n    this.state.mode = null;\r\n    this.suppMenu.push({\r\n      menu: undefined,\r\n      handleClick: (event, data) => {\r\n        if(data.type) {\r\n          this.setState({mode: window.getClassFromName(data.type)})\r\n          Workspace.forceUpdate();\r\n        }\r\n      }\r\n    });\r\n    this.suppMenu[this.suppMenu.length - 1].handleClick.bind(this);\r\n    this.unauthorized.push(\"Placement\");\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n  renderMode() {\r\n    if(!this.state.mode) return null;\r\n    return (<this.state.mode key={this.constructor.className + this.state.mode.className} ref={el => {this.state.currentMode = el}} />);\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nPlacement.className = \"Placement\";\r\nPlacement.icon = undefined;\r\n\r\nexport default Placement;\r\n","import React, { Component } from 'react';\r\nimport './Mode.css';\r\n\r\n\r\n/*Pencil*/\r\nclass Mode extends Component {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Mode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nMode.className = \"Mode\";\r\n\r\nexport default Mode;\r\n","import React, { Component } from 'react';\r\nimport './GridMode.css';\r\nimport Mode from \"../Mode\";\r\n\r\n\r\n/*Pencil*/\r\nclass GridMode extends Mode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + GridMode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n}\r\n\r\nGridMode.className = \"GridMode\";\r\n\r\nexport default GridMode;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearY extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearY.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < columns; i++) {\r\n      sk.push();\r\n        sk.translate(column * i, 0);\r\n    \t\tfor(var j = 0; j < rows; j++) {\r\n          sk.push();\r\n            sk.translate(0, j * row);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n\r\n}\r\n\r\nLinearY.className = \"LinearY\";\r\n\r\nexport default LinearY;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearX extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearX.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback, lines} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < rows; i++) {\r\n      sk.push();\r\n        sk.translate(0, row * i);\r\n        if(lines) sk.line(0, 0, sk.width, 0);\r\n    \t\tfor(var j = 0; j < columns; j++) {\r\n          sk.push();\r\n            sk.translate(j * column, 0);\r\n            if(lines) sk.line(0, 0, 0, sk.height);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n}\r\n\r\nLinearX.className = \"LinearX\";\r\n\r\nexport default LinearX;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalLeft extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalLeft.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (let compteur = 0; compteur < columns; compteur++){\r\n      let i = columns - 1;\r\n      let j = compteur;\r\n      while(j >= 0){\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n    for (let compteur = columns-1; compteur > 0; compteur--){\r\n      let i = compteur - 1;\r\n      let j = rows - 1;\r\n      while (i >= 0) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nDiagonalLeft.className = \"DiagonalLeft\";\r\n\r\nexport default DiagonalLeft;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur < columns; compteur++){\r\n      for (var i = 0; i <= compteur; i++) {\r\n        sk.push();\r\n          sk.translate(column * i, (compteur-i) * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n    for (var compteur = columns - 1; compteur > 0; compteur--){\r\n      var i = columns-compteur;\r\n      var j = rows - 1;\r\n      while (i < columns) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i+=1;\r\n        j-=1;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nDiagonalRight.className = \"DiagonalRight\";\r\n\r\nexport default DiagonalRight;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass Orthogonal extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Orthogonal.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur <= columns; compteur++) {\r\n      let i, j;\r\n      for (i = 0; i <= compteur; i++){\r\n        sk.push();\r\n          sk.translate(i * column, compteur * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n      for (j = compteur - 1; j >= 0; j--){\r\n        sk.push();\r\n          sk.translate(column * compteur, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nOrthogonal.className = \"Orthogonal\";\r\n\r\nexport default Orthogonal;\r\n","import React, { Component } from 'react';\r\nimport GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass SnailRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + SnailRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    let a = Math.round(columns / 2) - 1;\r\n    let b = Math.round(rows / 2) - 1;\r\n    let side = 1;\r\n    let move = -1;\r\n\r\n    while (side <= columns) {\r\n      move *= -1;\r\n      for (let i = 0; i<side && a >= 0 && a < columns; i++) {\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        a += move;\r\n      }\r\n      if(a < 0 || a >= columns) break;\r\n\r\n      for (let i = 0; i<side && b >= 0 && b < rows; i++) {\r\n        console.log(a, b);\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        b += move;\r\n      }\r\n      side++;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nSnailRight.className = \"SnailRight\";\r\n\r\nexport default SnailRight;\r\n","import React, { Component } from 'react';\r\nimport Placement from '../Placement';\r\nimport './Grid.css';\r\nimport 'rc-slider/assets/index.css';\r\nimport Canvas from '../../Canvas/Canvas';\r\nimport DragBox from '../../DragBox/DragBox';\r\nimport ContextMenuBox from '../../ContextMenuBox/ContextMenuBox';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\nimport grid_on from '../../../Icons/grid_on.svg';\r\n\r\nimport LinearY from '../../Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from '../../Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from '../../Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from '../../Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from '../../Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from '../../Modes/GridMode/SnailRight/SnailRight';\r\n\r\nconst menu = [{\r\n  type: 'Modes',\r\n  elements: [\r\n    {type: 'DiagonalLeft'},\r\n    {type: 'DiagonalRight'},\r\n    {type: 'LinearX'},\r\n    {type: 'LinearY'},\r\n    {type: 'Orthogonal'},\r\n    {type: 'SnailRight'}\r\n  ]\r\n}];\r\n\r\n/*Pencil*/\r\nclass Grid extends Placement {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Grid.className;\r\n    //const {columns, rows} = this.props;\r\n    this.state.columns = 8;\r\n    this.state.rows = 8;\r\n    this.suppMenu[this.suppMenu.length - 1].menu = menu;\r\n    this.state.mode = LinearX;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n    var column = sk.width/this.state.columns;\r\n  \tvar row = sk.height/this.state.rows;\r\n    var elem = this.next;\r\n    var currentMode = this.state.currentMode;\r\n\r\n  \tif(!elem) sk.stroke(this.state.color.getP5Color(sk));\r\n\r\n    if(currentMode) {\r\n      currentMode.mode(sk, {\r\n        columns: this.state.columns,\r\n        rows: this.state.rows,\r\n        lines: elem ? false : true,\r\n        callback: function() {\r\n          if(elem) {\r\n            sk.noStroke();\r\n            sk.push();\r\n              sk.translate(column / 2, row / 2);\r\n              sk.scale(column, row);\r\n              sk.strokeWeight(1/column);\r\n              elem.draw(sk);\r\n              sk.strokeWeight(1);\r\n            sk.pop();\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  renderBox() {\r\n    return(\r\n      <>\r\n        <SliderBox\r\n        min={1}\r\n        max={50}\r\n        defaultValue={this.state.columns}\r\n        marks={{1: 1, 50: 50}}\r\n        step={1}\r\n        onChange={(value) => {this.setState({columns: value, rows: value});}}\r\n        />\r\n        {this.renderMode()}\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nGrid.className = \"Grid\";\r\nGrid.icon = grid_on;\r\n\r\nexport default Grid;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport './RangeBox.css';\r\n\r\nclass RangeBox extends Input {\r\n    render() {\r\n        let trackStyleArray = new Array(this.props.count);\r\n        trackStyleArray.fill({height: '8px', backgroundColor: 'black', borderRadius: 'unset' });\r\n        let handleStyleArray = new Array(this.props.count);\r\n        handleStyleArray.fill({marginTop: '-3px', borderColor: 'black' });\r\n        return(\r\n        <Range\r\n        {...this.props}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={trackStyleArray}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={handleStyleArray}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value); Workspace.forceUpdate();}}\r\n        ref={el => {if(this.props.innerRef) this.props.innerRef(el);}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default RangeBox;\r\n","import React, { Component } from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport 'rc-slider/assets/index.css';\r\nimport './Markov.css';\r\nimport Workspace from '../Workspace/Workspace';\r\nimport RangeBox from '../Input/RangeBox/RangeBox';\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport next from '../../Icons/next.svg';\r\nimport unknown from '../../Icons/unknown.svg';\r\n\r\nfunction clamp_left(a, b) {\r\n   return a < b ? b : a;\r\n}\r\n\r\nfunction clamp_right(a, b) {\r\n   return a > b ? b : a;\r\n}\r\n\r\nfunction clamp(a, b, c) {\r\n  return clamp_left(clamp_right(a, c), b);\r\n}\r\n\r\nfunction checkLeft(userValue, i, handle) {\r\n  if (i < 0) return;\r\n  if (userValue <= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkLeft(userValue, --i, handle);\r\n  }\r\n}\r\n\r\nfunction checkRight(userValue, i, handle) {\r\n  if (i >= handle.length) return;\r\n  if (userValue >= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkRight(userValue, ++i, handle);\r\n  }\r\n}\r\n\r\n/*Pencil*/\r\nclass Markov extends BoxGroup {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Markov.className;\r\n    this.suppMenu = [];\r\n    this.state.proba = [];\r\n    this.elementsLength = this.state.children.length;\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n    this.idElement = [];\r\n    this.unauthorized.push(\"Placement\");\r\n  }\r\n\r\n  setChildren(children) {\r\n    super.setChildren(children);\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n  }\r\n\r\n  draw(sk) {\r\n    let length = this.state.children.length;\r\n    if(length === 0) return;\r\n    let element = this.elements[this.currentState];\r\n    if(length === 1) {\r\n      if(element) element.draw(sk);\r\n      return;\r\n    }\r\n    let proba = 0;\r\n    let rand = parseInt(Math.random() * (100));\r\n    let i;\r\n\r\n    for(i = 0; i < length && rand >= proba; ++i) {\r\n      proba = this.state.proba[this.currentState][i];\r\n    }\r\n\r\n    this.elements[i - 1].draw(sk);\r\n    this.currentState = i - 1;\r\n  }\r\n\r\n  renderBox() {\r\n    const length = this.state.children.length;\r\n    let defaultValues = [];\r\n    let sliders;\r\n\r\n    for(let i = 1; i <= length - 1; ++i) {\r\n      if (i == length-1) defaultValues.push(Math.floor(100/length/10)*10*i+100%(length*10));\r\n      else defaultValues.push(Math.floor(100/length/10)*10*i);\r\n    }\r\n\r\n    if(length - 1 > 0) {\r\n      let propsRange = {\r\n        min: 0,\r\n        max: 100,\r\n        defaultValue: defaultValues,\r\n        marks: {0:0, 100:100},\r\n        step: 5,\r\n        count: length - 1,\r\n        pushable: 0\r\n      };\r\n\r\n      sliders = this.state.children.map((child, index) => {\r\n        let inputs = [], RangeIcon;\r\n\r\n        RangeIcon = <span className=\"Markov__RangeIcon\">\r\n          <SVG src={child.type.icon}/>\r\n          <SVG src={next}/>\r\n          <SVG src={unknown}/>\r\n        </span>;\r\n\r\n          if(this.elementsLength !== length) {\r\n            this.state.proba[index] = [...defaultValues]; //remove reference\r\n            this.idElement[index] = shortid.generate();\r\n            propsRange.innerRef = (el) => {if(el) this.state.proba[index] = el.state.bounds};\r\n            propsRange.innerRef.bind(this);\r\n          }\r\n          propsRange.key = this.idElement[index];\r\n          propsRange.onChange = (value) => {this.state.proba[index] = value; Workspace.forceUpdate();}\r\n\r\n          for (let i = 0; i < length; i++) {\r\n            let propsInput = {\r\n              type: \"number\",\r\n              key: this.idElement[index]+i,\r\n              min: 0,\r\n              max: 100,\r\n              step: 5,\r\n            };\r\n            if (i == 0) {\r\n              propsInput.value = this.state.proba[index][i];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value, i, proba[index]);\r\n                checkRight(value, i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else if (i == length-1) {\r\n              propsInput.value = 100-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(100-value, i-1, proba[index]);\r\n                checkRight(100-value, i-1, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else {\r\n              propsInput.max = 100 - this.state.proba[index][i-1];\r\n              propsInput.value = this.state.proba[index][i]-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value+this.state.proba[index][i-1], i, proba[index]);\r\n                checkRight(value+this.state.proba[index][i-1], i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            }\r\n            inputs.push(<div className=\"Markov__InputContainer\">\r\n              <span className=\"Markov__InputIcon\">\r\n                <SVG src={this.state.children[i].type.icon}/>\r\n              </span>\r\n              <input className=\"Markov__Input\" {...propsInput}/>\r\n            </div>);\r\n          }\r\n\r\n          return (\r\n\r\n              <div className=\"Markov__Containers\">\r\n                <div className=\"Markov__RangeContainer\">\r\n                  {RangeIcon}\r\n                  <RangeBox {...propsRange}/>\r\n                </div>\r\n                <div className=\"Markov__InputsContainer\">\r\n                  {inputs}\r\n                </div>\r\n              </div>\r\n            );\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.elementsLength = length;\r\n\r\n    return <div className=\"Markov__Parameters\">{sliders}</div>;\r\n  }\r\n\r\n}\r\n\r\nMarkov.className = \"Markov\";\r\nMarkov.icon = undefined;\r\n\r\nexport default Markov;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Translate.css';\r\nimport translate from '../../../Icons/translate.svg';\r\n\r\n/*Attribute*/\r\nclass Translate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Translate.className;\r\n    this.destX = 10;\r\n    this.destY = 10;\r\n  }\r\n}\r\n\r\nTranslate.className = \"Translate\";\r\nTranslate.icon = translate;\r\n\r\n\r\nexport default Translate;\r\n","import React, { Component } from 'react';\r\nimport Transform from '../Transform';\r\nimport './Rotate.css';\r\nimport rotate from '../../../Icons/rotate.svg';\r\n\r\n/*Attribute*/\r\nclass Rotate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rotate.className;\r\n    this.rotate = 20;\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.rotate(sk.radians(this.rotate));\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }*/\r\n}\r\n\r\nRotate.className = \"Rotate\";\r\nRotate.icon = rotate;\r\n\r\nexport default Rotate;\r\n","import React, { Component } from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Void.css';\r\nimport voidIcon from '../../Icons/void.svg';\r\n\r\n/*Pencil*/\r\nclass Void extends Box {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Void.className;\r\n    this.unauthorized = [\"*\"];\r\n    this.suppMenu = [];\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\nVoid.className = \"Void\";\r\nVoid.icon = voidIcon;\r\n\r\nexport default Void;\r\n","import Color from './Color';\r\n\r\nclass Blue extends Color {\r\n\r\n  constructor() {\r\n    super(0, 0, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nBlue.className = \"Blue\";\r\n\r\nexport default Blue;\r\n","import Color from './Color';\r\n\r\nclass Cyan extends Color {\r\n\r\n  constructor() {\r\n    super(0, 255, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nCyan.className = \"Cyan\";\r\n\r\nexport default Cyan;\r\n","import Color from './Color';\r\n\r\nclass Magenta extends Color {\r\n\r\n  constructor() {\r\n    super(255, 0, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nMagenta.className = \"Magenta\";\r\n\r\nexport default Magenta;\r\n","import Color from './Color';\r\n\r\nclass Yellow extends Color {\r\n\r\n  constructor() {\r\n    super(255, 255, 0, 255);\r\n  }\r\n\r\n}\r\n\r\nYellow.className = \"Yellow\";\r\n\r\nexport default Yellow;\r\n","import Color from './Color';\r\n\r\nclass White extends Color {\r\n\r\n  constructor() {\r\n    super(255, 255, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nWhite.className = \"White\";\r\n\r\nexport default White;\r\n","import Figure from './Figures/Figure';\r\nimport Rectangle from './Figures/Rectangle/Rectangle';\r\nimport Triangle from './Figures/Triangle/Triangle';\r\nimport Ellipse from './Figures/Ellipse/Ellipse';\r\nimport HHatching from './Figures/Hatching/HHatching/HHatching';\r\nimport VHatching from './Figures/Hatching/VHatching/VHatching';\r\nimport LOHatching from './Figures/Hatching/LOHatching/LOHatching';\r\nimport ROHatching from './Figures/Hatching/ROHatching/ROHatching';\r\nimport Placement from './Placement/Placement';\r\nimport Grid from './Placement/Grid/Grid';\r\nimport Markov from './Markov/Markov';\r\nimport Transform from './Transforms/Transform';\r\nimport Translate from './Transforms/Translate/Translate';\r\nimport Scale from './Transforms/Scale/Scale';\r\nimport Rotate from './Transforms/Rotate/Rotate';\r\nimport Color from './Colors/Color';\r\nimport Void from './Void/Void';\r\nimport Blue from './Colors/Blue';\r\nimport Cyan from './Colors/Cyan';\r\nimport Magenta from './Colors/Magenta';\r\nimport Yellow from './Colors/Yellow';\r\nimport Black from './Colors/Black';\r\nimport White from './Colors/White';\r\n\r\n//GridModes\r\nimport LinearY from './Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from './Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from './Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from './Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from './Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from './Modes/GridMode/SnailRight/SnailRight';\r\n\r\nexport function getClassFromName(name) {\r\n  switch(name) {\r\n    case('Figure'):\r\n      return Figure;\r\n    case('Rectangle'):\r\n      return Rectangle;\r\n    case('Triangle'):\r\n      return Triangle;\r\n    case('Ellipse'):\r\n      return Ellipse;\r\n    case('HHatching'):\r\n      return HHatching;\r\n    case('VHatching'):\r\n      return VHatching;\r\n    case('LOHatching'):\r\n      return LOHatching;\r\n    case('ROHatching'):\r\n      return ROHatching;\r\n    case('Placement'):\r\n      return Placement;\r\n    case('Grid'):\r\n      return Grid;\r\n    case('Markov'):\r\n      return Markov;\r\n    case('Transform'):\r\n      return Transform;\r\n    case('Color'):\r\n      return Color;\r\n    case('Blue'):\r\n      return Blue;\r\n    case('Cyan'):\r\n      return Cyan;\r\n    case('Magenta'):\r\n      return Magenta;\r\n    case('Black'):\r\n      return Black;\r\n    case('Yellow'):\r\n      return Yellow;\r\n    case('White'):\r\n      return White;\r\n    case('Translate'):\r\n      return Translate;\r\n    case('Scale'):\r\n      return Scale;\r\n    case('Rotate'):\r\n      return Rotate;\r\n    case('Void'):\r\n      return Void;\r\n    case('LinearX'):\r\n      return LinearX;\r\n    case('LinearY'):\r\n      return LinearY;\r\n    case('DiagonalLeft'):\r\n      return DiagonalLeft;\r\n    case('DiagonalRight'):\r\n      return DiagonalRight;\r\n    case('Orthogonal'):\r\n      return Orthogonal;\r\n    case('SnailRight'):\r\n      return SnailRight;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n//import Icons\r\nimport SVG from 'react-svg'\r\nimport icon_save_alt from '../../Icons/save_alt.svg';\r\nimport icon_code from '../../Icons/code.svg';\r\nimport icon_info from '../../Icons/info.svg';\r\n// import Components\r\nimport Workspace from '../../Components/Workspace/Workspace';\r\n// import Boxes\r\nimport {getClassFromName} from '../../Components/Index';\r\n\r\nwindow.getClassFromName = getClassFromName;\r\n\r\nwindow.updateWorkspace = Workspace.forceUpdate;\r\n\r\nwindow.addClassToElement = function(name, target) {\r\n  let cl = getClassFromName(name);\r\n  target.addChild(cl);\r\n  if(!(target instanceof Workspace)) {\r\n    Workspace.forceUpdate();\r\n  }\r\n};\r\n\r\nwindow.getIconClassFromName = function(name) {\r\n  let cl = getClassFromName(name);\r\n  if(cl) {\r\n    return cl.icon;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nwindow.isAuthorized = function(type, unauthorized) {\r\n  let r = true;\r\n  if(!type) return false;\r\n\r\n  if(unauthorized instanceof Array) {\r\n    let obj;\r\n    if(typeof type === \"string\") {\r\n      let cl = getClassFromName(type);\r\n      obj = new cl();\r\n    } else {\r\n      obj = new type();\r\n    }\r\n\r\n    for(let i = 0; i < unauthorized.length && r; ++i) {\r\n      console.log(unauthorized);\r\n      let unauthorizedClass = getClassFromName(unauthorized[i]);\r\n      if(unauthorizedClass === null) {\r\n        console.error(unauthorized[i] + \" : Invalid unauthorized Class\");\r\n        continue;\r\n      }\r\n      r = r && !(obj instanceof unauthorizedClass);\r\n    }\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\nlet toggle = false;\r\n\r\nclass App extends Component {\r\n  state = {\r\n    DownloadName: \"Untitled\",\r\n    DownloadFormat: \"svg\"\r\n  }\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  downloadImage = function(el) {\r\n    //var canvas = document.getElementById(\"defaultCanvas0\");\r\n    //var image = canvas.toDataURL(\"image/jpeg\");\r\n    //el.href = image;\r\n    Canvas.savePaper(this.state.DownloadName, this.state.DownloadFormat);\r\n  }\r\n\r\n  aboutClick() {\r\n    let aboutDisplay;\r\n    if(!toggle) {\r\n      toggle = !toggle;\r\n      aboutDisplay = {display: 'flex'};\r\n     } else {\r\n      toggle = !toggle;\r\n      aboutDisplay = {display: 'none'};\r\n     };\r\n    this.setState({aboutDisplay: aboutDisplay});\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header border-bottom\">\r\n          <div className=\"App-logo\">Paper&nbsp;&#123;&nbsp;&nbsp;&nbsp;&#125;</div>\r\n          <div className=\"about\" onClick={this.aboutClick.bind(this)}>\r\n            <SVG src={icon_info}/>\r\n          </div>\r\n          {/* <div className=\"aboutContainerBackground\"></div> */}\r\n        </header>\r\n        <main>\r\n            <div className=\"leftSide\">\r\n              <div className=\"aboutContainer\" style={this.state.aboutDisplay}>\r\n                <span>Blablabla</span>\r\n              </div>\r\n              <Workspace>\r\n\r\n              </Workspace>\r\n          </div>\r\n            <div className=\"rightSide border-left\">\r\n              <div className=\"editionMenu border-bottom\">\r\n                <div className=\"button displayCode border-right\">\r\n                  <SVG src={icon_code}/>\r\n                </div>\r\n                <div className=\"save\">\r\n                  <input className=\"save__name\" type=\"text\" value={this.state.DownloadName} onChange={(event) => {this.setState({DownloadName: event.target.value})}}/>\r\n                  <div className=\"save__format\">\r\n                    <input id=\"save__svg\" type=\"radio\" value=\"svg\" name=\"saveFormat\" defaultChecked onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__svg\" className=\"save__formatItem button border-left\">.svg</label>\r\n                    <input id=\"save__jpg\" type=\"radio\" value=\"jpg\" name=\"saveFormat\" onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                    <label htmlFor=\"save__jpg\" className=\"save__formatItem button border-left\">.jpg</label>\r\n                  </div>\r\n                  <a className=\"button save__button border-left\" onClick={(event) => this.downloadImage(event.target)}>\r\n                    <SVG src={icon_save_alt}/>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n                <Canvas/>\r\n            </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Containers/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { configure } from 'enzyme';\r\nimport Adapter from 'enzyme-adapter-react-16';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}