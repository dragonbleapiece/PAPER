{"version":3,"sources":["Icons/info.svg","Assets/SpaceGrotesk-Regular.ttf","Icons/cancel.svg","Icons/arrow_rightUI.svg","Icons/scale.svg","Icons/save_alt.svg","Icons/burst_mode.svg","Icons/arrow_upUI.svg","Icons/arrow_downUI.svg","Icons/full_square.svg","Icons/full_triangle.svg","Icons/full_ellipse.svg","Icons/HHatching.svg","Icons/VHatching.svg","Icons/LOHatching.svg","Icons/ROHatching.svg","Icons/grid_on.svg","Icons/next.svg","Icons/unknown.svg","Icons/translate.svg","Icons/rotate.svg","Icons/void.svg","Icons/arrow_right.svg","Icons/zero.svg","Icons/one.svg","Components/Canvas/Canvas.js","Constants.js","Components/DropBox/DropBox.js","Components/DragBox/DragBox.js","Components/ContextMenuBox/ContextMenuBox.js","Components/Colors/Color.js","Components/Transforms/Transform.js","Components/Input/Input.js","Components/Input/SliderBox/SliderBox.js","Components/Transforms/Scale/Scale.js","Components/Box/Box.js","Components/BoxGroup/BoxGroup.js","Components/Colors/Black.js","Components/Workspace/Workspace.js","Components/Save/Save.js","Components/Figures/Figure.js","Components/Figures/Rectangle/Rectangle.js","Components/Figures/Triangle/Triangle.js","Components/Figures/Ellipse/Ellipse.js","Components/Transforms/Density/Density.js","Components/Figures/Hatching/Hatching.js","Components/Figures/Hatching/HHatching/HHatching.js","Components/Figures/Hatching/VHatching/VHatching.js","Components/Figures/Hatching/LOHatching/LOHatching.js","Components/Figures/Hatching/ROHatching/ROHatching.js","Components/Placement/Placement.js","Components/Series/Series.js","Components/Modes/Mode.js","Components/Modes/GridMode/GridMode.js","Components/Modes/GridMode/LinearX/LinearX.js","Components/Placement/Grid/Grid.js","Components/InBox/InBox.js","Components/Input/RangeBox/RangeBox.js","Components/Markov/Markov.js","Components/Transforms/Translate/Translate.js","Components/Transforms/Rotate/Rotate.js","Components/Void/Void.js","Components/Colors/Red.js","Components/Colors/Orange.js","Components/Colors/Yellow.js","Components/Colors/Green.js","Components/Colors/LightBlue.js","Components/Colors/Blue.js","Components/Colors/White.js","Components/Figures/Symbols/Symbol.js","Components/Figures/Symbols/Arrow/Arrow.js","Components/Figures/Characters/Character.js","Components/Figures/Characters/Number0.js","Components/Figures/Characters/Number1.js","Components/Modes/GridMode/LinearY/LinearY.js","Components/Modes/GridMode/DiagonalLeft/DiagonalLeft.js","Components/Modes/GridMode/DiagonalRight/DiagonalRight.js","Components/Modes/GridMode/Orthogonal/Orthogonal.js","Components/Modes/GridMode/SnailRight/SnailRight.js","Components/Index.js","Containers/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","p5","require","Canvas","props","_this","Object","classCallCheck","this","undefined","_instance","possibleConstructorReturn","getPrototypeOf","call","state","function","width","height","strokeWeight","currentFont","assertThisInitialized","filename","extension","_P5","savePaper","getImageData","draw","ext","arguments","length","canvasWidth","window","innerWidth","canvasHeight","innerHeight","CanvasSize","setState","self","sk","setup","bind","preload","windowResized","strokeScale","loadFont","SpaceGrotesk","f","CalcCanvasSize","resizeCanvas","save","_this$state","createCanvas","noLoop","updateWorkspace","scale","pixelDensity","initP5","image","get","loadPixels","canvas","toDataURL","replace","react_default","a","createElement","className","id","Component","ItemTypes","boxTarget","canDrop","monitor","getItem","hover","component","item","isOver","shallow","hovered","el","drop","didDrop","clientOffset","getClientOffset","componentRect","findDOMNode","getBoundingClientRect","x","right","y","bottom","left","top","moved","DropBox","_this$props","connectDropTarget","constructor","children","DropTarget","connect","dropTarget","isOverCurrent","itemType","getItemType","boxSource","beginDrag","endDrag","result","getDropResult","console","log","removeFromParent","pushChild","type","DragBox","d","parseInt","style","coord","Number","isNaN","position","setStyle","onClose","Workspace","forceUpdate","isDragging","connectDragSource","connectDragPreview","onClick","react_svg","src","cancel","icon","fill","color","backgroundColor","textColor","name","DragSource","dragPreview","dragSource","menu","elements","ContextMenuBox","event","data","addClassToElement","m","handleClick","_this2","map","index","unauthorized","indexOf","getIconClassFromName","es6","key","shortid","generate","title","Fragment","arrow_right","getMenu","menuItems","suppMenu","concat","holdToDisplay","Color","r","g","b","Transform","Input","SliderBox","es","min","max","defaultValue","marks","step","steps","padding","trackStyle","borderRadius","railStyle","handleStyle","marginTop","borderColor","dotStyle","onChange","value","onAfterChange","Scale","Input_SliderBox_SliderBox","1","10","20","scaleIcon","menuColor","Box","initState","ref","next","drawBeforeType","getClassFromName","doBeforeAddChild","_id","Function","push","i","child","functionToCall","object","cl","getFunctionClass","isAuthorized","beforeAddChild","obj","parent","filter","setChildren","elmnt","nextType","callDrawBeforeType","_this3","saveState","_this4","Transforms","Array","Transforms_Scale_Scale","c","isNotBlack","formatedColor","formatedTextColor","formatedBackgroundColor","Components_ContextMenuBox_ContextMenuBox","Components_DragBox_DragBox","renderBox","getTransforms","Components_DropBox_DropBox","getChildren","BoxGroup","toConsumableArray","esm_get","prototype","element","drawBeforeChild","pop","React","Children","Black","addDrawBeforeType","translate","box","addChild","background","getP5Color","noStroke","sendDraw","DragDropContext","HTML5Backend","Save","DownloadName","DownloadNameSaved","DownloadSuffixNumber","svg","jpg","DownloadSuffix","DownloadFormat","zipNumber","downloadImage","nb","dname","downloadZip","zip","JSZip","file","img","folder","base64","generateAsync","then","content","saveAs","checkZipNumber","incrementZipNumber","decrementZipNumber","burst_mode","target","onBlur","arrow_up","arrow_down","defaultChecked","checked","htmlFor","icon_save_alt","Figure","drawFigure","Rectangle","square","rect","Triangle","triangle","Ellipse","ellipse","Density","density","2","11","Hatching","Transforms_Density_Density","stroke","HHatching","HHatchingIcon","gapY","j","line","VHatching","VHatchingIcon","gapX","LOHatching","LOHatchingIcon","ROHatching","ROHatchingIcon","Placement","mode","currentMode","Series","currentState","Mode","GridMode","LinearX","rows","columns","callback","lines","column","row","Wrapper","_class","_temp","_len","_key","authorizedChildren","Child","_Component","apply","inherits","createClass","boxChildren","assign","find","wrapper","InBox","Grid","grid_on","elem","50","renderMode","RangeBox","trackStyleArray","count","handleStyleArray","innerRef","clamp","clamp_left","clamp_right","checkLeft","userValue","handle","checkRight","Markov","elementsLength","Math","random","idElement","proba","rand","sliders","defaultValues","floor","propsRange","0","100","pushable","RangeIcon","inputs","unknown","bounds","_loop","propsInput","onKeyDown","Input_RangeBox_RangeBox","Translate","destX","destY","Rotate","rotate","Void","voidIcon","Red","Orange","Yellow","Green","LightBlue","Blue","White","Symbol","Arrow","Character","text","bbox","textBounds","textSize","textWidth","h","drawText","Number0","zero","Number1","one","LinearY","DiagonalLeft","compteur","DiagonalRight","Orthogonal","SnailRight","round","side","move","unauthorizedClass","error","toggle","App","aboutClick","handleOutsideClick","e","aboutContainer","contains","aboutButton","display","href","rel","icon_info","Components_Workspace_Workspace","Components_Save_Save","Components_Canvas_Canvas","Boolean","location","hostname","match","configure","adapter","Adapter","ReactDOM","render","Containers_App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d5fa3824.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/info.b08ccdbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/SpaceGrotesk-Regular.9fa7b0a4.ttf\";","module.exports = __webpack_public_path__ + \"static/media/cancel.4afab8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_rightUI.79443cdd.svg\";","module.exports = __webpack_public_path__ + \"static/media/scale.08ae3836.svg\";","module.exports = __webpack_public_path__ + \"static/media/save_alt.3ccde972.svg\";","module.exports = __webpack_public_path__ + \"static/media/burst_mode.38a76e4c.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_upUI.d8be3f88.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_downUI.f06acfc6.svg\";","module.exports = __webpack_public_path__ + \"static/media/full_square.c61ab8ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/full_triangle.288a2239.svg\";","module.exports = __webpack_public_path__ + \"static/media/full_ellipse.61cb41c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/HHatching.f3da2da9.svg\";","module.exports = __webpack_public_path__ + \"static/media/VHatching.c8766020.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOHatching.186b393d.svg\";","module.exports = __webpack_public_path__ + \"static/media/ROHatching.8c0092fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/grid_on.8ace643b.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.0f510805.svg\";","module.exports = __webpack_public_path__ + \"static/media/unknown.3f5bae44.svg\";","module.exports = __webpack_public_path__ + \"static/media/translate.aaf3d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/rotate.5d1fc53d.svg\";","module.exports = __webpack_public_path__ + \"static/media/void.a2a55d7b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right.992a373b.svg\";","module.exports = __webpack_public_path__ + \"static/media/zero.691bc513.svg\";","module.exports = __webpack_public_path__ + \"static/media/one.73ed8e62.svg\";","import React, { Component } from 'react';\r\nimport './Canvas.css';\r\nimport PropTypes from 'prop-types';\r\nimport SpaceGrotesk from '../../Assets/SpaceGrotesk-Regular.ttf'\r\n\r\nvar p5 = require('p5');\r\nrequire('p5.js-svg')(p5);\r\n\r\nclass Canvas extends Component {\r\n\r\n  /*Singleton*/\r\n  static _instance;\r\n  static _P5;\r\n  static savePaper(filename, extension) {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.savePaper(filename, extension);\r\n    }\r\n  }\r\n\r\n  static getImageData() {\r\n    if(Canvas._P5 !== undefined) {\r\n      return Canvas._P5.getImageData();\r\n    }\r\n  }\r\n\r\n  static draw() {\r\n    if(Canvas._P5 !== undefined) {\r\n      Canvas._P5.draw();\r\n    }\r\n  }\r\n\r\n  state = {\r\n    function: undefined,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    if(Canvas._instance !== undefined) {\r\n      return Canvas._instance;\r\n    }\r\n    super(props);\r\n    this.strokeWeight = 1;\r\n    this.currentFont = null;\r\n\r\n    Canvas._instance = this;\r\n  }\r\n\r\n  setfilename(filename, ext = undefined) {\r\n    this.filename = filename;\r\n    if(ext !== undefined) this.extension = ext;\r\n  }\r\n\r\n  CalcCanvasSize() {\r\n    let canvasWidth = window.innerWidth*0.5-60;\r\n    let canvasHeight = window.innerHeight-180;\r\n    let CanvasSize = (canvasWidth < canvasHeight) ? canvasWidth : canvasHeight;\r\n    this.setState({width: CanvasSize, height: CanvasSize});\r\n  }\r\n\r\n  initP5() {\r\n    let self = this;\r\n    let s = (sk) => {\r\n    //  sk.preload = self.preload.bind(self, sk);\r\n      sk.setup = self.setup.bind(self, sk);\r\n      sk.draw = self.draw.bind(self, sk);\r\n      sk.preload = self.preload.bind(self, sk);\r\n      sk.windowResized = self.windowResized.bind(self, sk);\r\n      sk.savePaper = self.savePaper.bind(self, sk);\r\n      sk.strokeScale = self.strokeScale.bind(self, sk);\r\n      sk.getImageData = self.getImageData.bind(self, sk)\r\n    }\r\n\r\n    Canvas._P5 = new p5(s, 'renderer');\r\n  }\r\n\r\n  preload(sk) {\r\n    sk.currentFont = sk.loadFont(SpaceGrotesk);\r\n  }\r\n\r\n  sendDraw(f) {\r\n    this.setState({\r\n      function: f\r\n    });\r\n  }\r\n\r\n  resetDraw() {\r\n    this.setState({\r\n      function: undefined\r\n    });\r\n  }\r\n\r\n  windowResized(sk) {\r\n    this.CalcCanvasSize();\r\n    sk.resizeCanvas(this.state.width, this.state.height);\r\n  }\r\n\r\n  savePaper(sk, filename, extension) {\r\n    if(filename !== undefined || extension !== undefined) {\r\n      sk.save(filename + \".\" + extension);\r\n    }\r\n  }\r\n\r\n  setup(sk) {\r\n    const {width, height} = this.state;\r\n    sk.createCanvas(width, height);\r\n    sk.noLoop();\r\n    window.updateWorkspace();\r\n  }\r\n\r\n  strokeScale(sk, scale) {\r\n    this.strokeWeight *= scale;\r\n    sk.strokeWeight(this.strokeWeight);\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.pixelDensity(1); //fix svg\r\n    let f = this.state.function;\r\n    if(f !== undefined) {\r\n      f(sk);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.CalcCanvasSize();\r\n    this.initP5();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    Canvas._P5.draw();\r\n  }\r\n\r\n  getImageData(sk) {\r\n    let image = sk.get();\r\n    image.loadPixels();\r\n    return image.canvas.toDataURL('image/png').replace(/^data:image\\/(png|jpg);base64,/, '');\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvasContainer\">\r\n        <div id=\"renderer\">\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCanvas._instance = undefined;\r\nCanvas._P5 = undefined;\r\n\r\n/*PropTypes*/\r\nCanvas.propTypes = {\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  cells: PropTypes.number\r\n}\r\n\r\nexport default Canvas;\r\n","export const ItemTypes = {\r\n  BOX: 'box'\r\n};\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport { DropTarget, DragSource } from 'react-dnd';\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDropTarget: connect.dropTarget(),\r\n    // You can ask the monitor about the current drag state:\r\n    isOver: monitor.isOver(),\r\n    isOverCurrent: monitor.isOver({ shallow: true }),\r\n    canDrop: monitor.canDrop(),\r\n    itemType: monitor.getItemType()\r\n  };\r\n}\r\n\r\n//Functions for dropping the box\r\nconst boxTarget = {\r\n  canDrop(props, monitor) {\r\n    // You can disallow drop based on props or item\r\n    const item = monitor.getItem();\r\n    //return canMakeChessMove(item.fromPosition, props.position);\r\n    return true;\r\n  },\r\n\r\n  hover(props, monitor, component) {\r\n    // This is fired very often and lets you perform side effects\r\n    // in response to the hover. You can't handle enter and leave\r\n    // here—if you need them, put monitor.isOver() into collect() so you\r\n    // can just use componentDidUpdate() to handle enter/leave.\r\n\r\n    //return;\r\n\r\n    const item = monitor.getItem();\r\n\r\n    // You can access the coordinates if you need them\r\n\r\n    // You can check whether we're over a nested drop target\r\n    const isJustOverThisOne = monitor.isOver({ shallow: true });\r\n\r\n    // You will receive hover() even for items for which canDrop() is false\r\n    const canDrop = monitor.canDrop();\r\n\r\n    item.hovered = props.el;\r\n\r\n  },\r\n\r\n  drop(props, monitor, component) {\r\n    if (monitor.didDrop()) {\r\n      // If you want, you can check whether some nested\r\n      // target already handled drop\r\n      return;\r\n    }\r\n\r\n    // Obtain the dragged item\r\n    let item = monitor.getItem();\r\n\r\n    // You can do something with it\r\n    const clientOffset = monitor.getClientOffset();\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n\r\n    if(clientOffset.x > componentRect.right\r\n      || clientOffset.y > componentRect.bottom\r\n      || clientOffset.x < componentRect.left\r\n      || clientOffset.y < componentRect.top) {\r\n      return;\r\n    }\r\n\r\n    // You give to the currently moving item the new positions\r\n    item.x = clientOffset.x - item.x;\r\n    item.y = clientOffset.y - item.y;\r\n\r\n    // You can also do nothing and return a drop result,\r\n    // which will be available as monitor.getDropResult()\r\n    // in the drag source's endDrag() method\r\n    return { moved: true };\r\n  }\r\n};\r\n\r\n\r\nclass DropBox extends Component {\r\n\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isOver, canDrop, connectDropTarget } = this.props;\r\n    return connectDropTarget(\r\n      <div className={this.constructor.className}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropBox.className = \"DropBox\";\r\n\r\nexport default DropTarget(ItemTypes.BOX, boxTarget, collect)(DropBox);\r\n","import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom';\r\nimport {ItemTypes} from '../../Constants.js';\r\nimport {DragSource} from 'react-dnd';\r\nimport { getEmptyImage } from 'react-dnd-html5-backend';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport cancel from '../../Icons/cancel.svg';\r\n\r\n//Functions for dragging the box\r\nconst boxSource = {\r\n  beginDrag(props, monitor, component) {\r\n    const componentRect = findDOMNode(component).getBoundingClientRect();\r\n    const clientOffset = monitor.getClientOffset();\r\n    let item = clientOffset;\r\n    return item;\r\n  },\r\n  endDrag(props, monitor, component) {\r\n    const item = monitor.getItem();\r\n    const result = monitor.getDropResult();\r\n    console.log(item.hovered);\r\n    if(result !== null && result.moved) {\r\n      props.el.removeFromParent();\r\n      item.hovered.pushChild({type: props.el.constructor, id: props.el.props.id, state: props.el.state});\r\n      //component.setPosition(item);\r\n    }\r\n    return {};\r\n  }\r\n};\r\n\r\n//Standard functions for react-dnd\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragPreview: connect.dragPreview(),\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\n\r\nclass DragBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  setPosition(d) {\r\n    if(!d) return;\r\n    const left = parseInt(this.props.el.state.style.left);\r\n    const top = parseInt(this.props.el.state.style.top);\r\n\r\n    const coord = {\r\n      x: !Number.isNaN(left) ? left : 0,\r\n      y: !Number.isNaN(top) ? top : 0\r\n    };\r\n\r\n    const style = {\r\n      \"position\": \"absolute\",\r\n      \"top\": d.y + coord.y + \"px\",\r\n      \"left\": d.x + coord.x + \"px\"\r\n    };\r\n    console.log(coord);\r\n    this.props.el.setStyle(style);\r\n  }\r\n\r\n  onClose() {\r\n      if(this.props.onClose !== undefined) {\r\n        this.props.onClose();\r\n      }\r\n      Workspace.forceUpdate();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isDragging, connectDragSource, connectDragPreview } = this.props;\r\n\r\n    if(isDragging) {\r\n      return null;\r\n    }\r\n\r\n    return(\r\n      <div className=\"Box__wrapper\">\r\n        <span className=\"Box__titleClose\" onClick={this.onClose.bind(this)}>\r\n            <SVG src={cancel}/>\r\n        </span>\r\n        {connectDragSource(<span className=\"Box__title\">\r\n          {this.props.icon && <SVG className=\"Box__titleIcon\" src={this.props.icon} style={{fill: this.props.color, backgroundColor: this.props.backgroundColor}}/>}\r\n          <span className=\"Box__titleText\" style={{color: this.props.textColor}}>{this.props.name}</span>\r\n        </span>)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragSource(ItemTypes.BOX, boxSource, collect)(DragBox);\r\n","import React, { Component } from 'react';\r\nimport './ContextMenuBox.css';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport arrow_right from '../../Icons/arrow_rightUI.svg';\r\n\r\nconst menu = [\r\n  {\r\n    type: 'Placement',\r\n    elements: [\r\n      {\r\n        type: 'Grid'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'Elements',\r\n    elements: [\r\n      {\r\n        name: 'Basic Shapes',\r\n        type: 'Rectangle',\r\n        elements: [\r\n          {\r\n            type: 'Rectangle'\r\n          },\r\n          {\r\n            type: 'Triangle'\r\n          },\r\n          {\r\n            type: 'Ellipse'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: 'HHatching',\r\n        name: 'Hatching',\r\n        elements: [\r\n          {\r\n            type: 'HHatching',\r\n            name: 'Horizontal'\r\n          },\r\n          {\r\n            type: 'VHatching',\r\n            name: 'Vertical'\r\n          },\r\n          {\r\n            type: 'LOHatching',\r\n            name: 'Left Oblique'\r\n          },\r\n          {\r\n            type: 'ROHatching',\r\n            name: 'Right Oblique'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: 'Characters',\r\n        type: 'Character',\r\n        elements: [\r\n          {\r\n            type: '0',\r\n            name: 'Zero'\r\n          },\r\n          {\r\n            type: '1',\r\n            name: 'One'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: 'Arrow'\r\n      },\r\n      {\r\n        type: 'Void'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'Markov'\r\n  }\r\n];\r\n\r\nclass ContextMenuBox extends Component {\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n\r\n  handleClick(event, data) {\r\n    if(data.type !== undefined) {\r\n      window.addClassToElement(data.type, data.el);\r\n    }\r\n  }\r\n\r\n  getMenu(m, handleClick) {\r\n    return m.map(\r\n      (item, index) => {\r\n        if(this.props.el.constructor.unauthorized.indexOf(item.type) === -1) {\r\n          let icon = window.getIconClassFromName(item.type);\r\n          if (!item.elements) {\r\n            return (<MenuItem onClick={handleClick} data={{ type: item.type, el: this.props.el }} key={shortid.generate()}>\r\n              {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n              <span className=\"react-contextmenu-itemText\">{item.name ? item.name : item.type}</span>\r\n            </MenuItem>);\r\n          } else {\r\n            return (<SubMenu key={shortid.generate()} title={\r\n              <>\r\n                <span  className=\"react-contextmenu-itemLabel\">\r\n                {icon && <span className=\"react-contextmenu-itemIcon\"><SVG src={icon}/></span>}\r\n                <span className=\"react-contextmenu-itemText\">{item.name ? item.name : item.type}</span>\r\n                </span>\r\n                <span className=\"react-contextmenu-itemIcon\"><SVG src={arrow_right}/></span>\r\n              </>\r\n            }>\r\n                {this.getMenu(item.elements, handleClick)}\r\n                <span className='react-contextmenu-borderTop'></span>\r\n            </SubMenu>);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    let menuItems = [];\r\n    if(this.props.el.constructor.unauthorized.indexOf(\"*\") === -1) {\r\n      menuItems = this.getMenu(menu, this.handleClick.bind(this));\r\n    }\r\n\r\n    for(let key in this.props.suppMenu) {\r\n      let suppMenu = this.props.suppMenu[key];\r\n      if( suppMenu.menu && suppMenu.handleClick ) {\r\n        menuItems = menuItems.concat(this.getMenu(suppMenu.menu, suppMenu.handleClick));\r\n      }\r\n    }\r\n\r\n    //console.log(this.props.el.constructor.className, menuItems, menuItems.length);\r\n\r\n    return (\r\n      <>\r\n        <ContextMenuTrigger id={this.props.id} holdToDisplay={-1}>\r\n            {this.props.children}\r\n        </ContextMenuTrigger>\r\n        {(menuItems.length > 0) && <ContextMenu id={this.props.id}>\r\n\r\n            {menuItems}\r\n          <span className='react-contextmenu-borderTop'></span>\r\n        </ContextMenu>}\r\n      </>\r\n    );\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default ContextMenuBox;\r\n","class Color {\r\n\r\n  constructor(r = 0, g = 0, b = 0, a = 255) {\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n    this.a = a;\r\n  }\r\n\r\n  getP5Color(sk) {\r\n    return sk.color(this.r, this.g, this.b, this.a);\r\n  }\r\n\r\n}\r\n\r\nColor.className = \"Color\";\r\n\r\nexport default Color;\r\n","import { Component } from 'react';\r\nimport './Transform.css';\r\n\r\n\r\n/*Attribute*/\r\nclass Transform extends Component {\r\n\r\n  state = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Transform.className;\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nTransform.className = \"Transform\";\r\nTransform.icon = undefined;\r\n\r\nexport default Transform;\r\n","import { Component } from 'react';\r\nimport './Input.css';\r\n\r\nclass Input extends Component {\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport Slider from 'rc-slider';\r\nimport './SliderBox.css';\r\n\r\nclass SliderBox extends Input {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Slider\r\n        min={this.props.min}\r\n        max={this.props.max}\r\n        defaultValue={this.props.defaultValue}\r\n        marks={this.props.marks}\r\n        step={this.props.steps}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={{marginTop: '-3px', borderColor: 'black' }}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {if(this.props.onChange) {this.props.onChange(value);}}}\r\n        onAfterChange={() => Workspace.forceUpdate()}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SliderBox;\r\n","import React from 'react';\r\nimport Transform from '../Transform';\r\nimport './Scale.css';\r\nimport scaleIcon from '../../../Icons/scale.svg';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\n\r\n/*Attribute*/\r\nclass Scale extends Transform {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Scale.className;\r\n    this.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <SliderBox min={1} max={20} defaultValue={10} marks={{1:0.1, 10:1, 20:2}} step={1} onChange={(value) => {\r\n        this.scale = {x: value / 10, y: value / 10};\r\n        if(this.props.onChange) this.props.onChange(this.scale);\r\n      }} />\r\n    );\r\n  }\r\n}\r\n\r\nScale.className = \"Scale\";\r\nScale.icon = scaleIcon;\r\n\r\nexport default Scale;\r\n","import React, { Component } from 'react';\r\nimport './Box.css';\r\nimport p5 from 'p5';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Color from '../Colors/Color';\r\nimport Scale from '../Transforms/Scale/Scale';\r\n\r\nconst menuColor = [\r\n  {\r\n    type: 'Color',\r\n    elements: [\r\n      {type: 'Black'},\r\n      {type: 'White'},\r\n      {type: 'Red'},\r\n      {type: 'Orange'},\r\n      {type: 'Yellow'},\r\n      {type: 'Green'},\r\n      {type: 'LightBlue'},\r\n      {type: 'Blue'}\r\n    ]\r\n  }\r\n];\r\n\r\nconst className = \"Box\";\r\nconst unauthorized = [];\r\n\r\nfunction getFunctionClass(child, object) {\r\n  for(let key in object) {\r\n    const cl = window.getClassFromName(key);\r\n    if(!cl) return undefined;\r\n    const instanceOfChild = new child();\r\n    if(instanceOfChild instanceof cl) {\r\n      return object[key];\r\n    }\r\n  }\r\n}\r\n\r\n/*Pencil*/\r\nclass Box extends Component {\r\n\r\n  static get id() {\r\n    return Box._id++;\r\n  }\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return unauthorized;\r\n  }\r\n\r\n  state = {\r\n    children: [],\r\n    style: {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(props && this.props.state) {\r\n      this.state = this.props.state;\r\n    } else {\r\n      this.initState();\r\n    }\r\n\r\n    this.ref = this;\r\n    this.className = Box.className;\r\n    this.name = Box.className;\r\n    this.next = undefined;\r\n    this.drawBeforeType = {};\r\n    this.suppMenu = [{\r\n      menu: menuColor,\r\n      handleClick: (event, data) => {\r\n       if(data.type) {\r\n         let color = window.getClassFromName(data.type);\r\n         if(color) this.setState({color: new color()});\r\n         window.updateWorkspace();\r\n       }\r\n      }\r\n    }];\r\n    this.doBeforeAddChild = {};\r\n\r\n  }\r\n\r\n  initState() {\r\n    this.state.color = new Color(255, 255, 255);\r\n    this.state.scale = {x: 1, y: 1};\r\n  }\r\n\r\n  addDrawBeforeType(type, f) {\r\n    if(!(f instanceof Function)) return;\r\n    if(!this.drawBeforeType[type]) {\r\n      this.drawBeforeType[type] = [f];\r\n    } else {\r\n      this.drawBeforeType[type].push(f);\r\n    }\r\n  }\r\n\r\n  callDrawBeforeType(sk, type) {\r\n    for(let i = 0; i < this.drawBeforeType[type].length; ++i) {\r\n      this.drawBeforeType[type][i](sk);\r\n    }\r\n  }\r\n\r\n  beforeAddChild(child) {\r\n    const functionToCall = getFunctionClass(child, this.doBeforeAddChild);\r\n\r\n    console.log(functionToCall);\r\n\r\n    if(functionToCall instanceof Function) {\r\n      return functionToCall(child);\r\n    } else {\r\n      return child;\r\n    }\r\n  }\r\n\r\n  addChild(child) {\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    if(obj instanceof Box && this.isAuthorized(child)) {\r\n      this.setState({\r\n        children: [{type:this.beforeAddChild(child), id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  pushChild(child) {\r\n    if(!child || !child.type || !child.id) return;\r\n    let obj = new child.type(); //tricky\r\n    if(this.isAuthorized(child.type) && obj instanceof Box) {\r\n      this.setState({\r\n        children: [child]\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.setState({\r\n      children: children\r\n    })\r\n  }\r\n\r\n  isAuthorized(cl) {\r\n    const unauthorized = this.constructor.unauthorized;\r\n    return window.isAuthorized(cl, unauthorized);\r\n  }\r\n\r\n  removeFromParent() {\r\n    let children = this.props.parent.state.children;\r\n    console.log(children.length);\r\n    children = children.filter(el => el.id !== this.props.id);\r\n    console.log(children.length);\r\n    this.props.parent.setChildren(children);\r\n  }\r\n\r\n  addNext(elmnt) {\r\n    if(elmnt !== undefined) {\r\n      if(elmnt instanceof Box) {\r\n        this.next = elmnt;\r\n        this.nextType = elmnt.constructor.name;\r\n      }\r\n    }\r\n  }\r\n\r\n  setStyle(style) {\r\n    this.setState({\r\n      style: style\r\n    });\r\n  }\r\n\r\n  drawBeforeChild(sk, child) {\r\n    if(!child) return;\r\n    for(let key in this.drawBeforeType) {\r\n      console.log(key);\r\n      if(child instanceof window.getClassFromName(key)) {\r\n        this.callDrawBeforeType(sk, key);\r\n      }\r\n    }\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n\r\n  getChildren() {\r\n    this.next = undefined;\r\n    let children = [];\r\n\r\n    if(this.state.children.length > 0) {\r\n      let child = this.state.children[0];\r\n      children.push(<child.type key={child.id} parent={this} id={child.id} ref={el => {this.next = el ? el.ref : null;}} saveState={(state) => {child.state = state}} state={child.state}/>);\r\n    }\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  getTransforms() {\r\n    let Transforms = new Array();\r\n    Transforms.push(<Scale onChange={(scale) => {this.setState({scale: scale});}}/>);\r\n    return Transforms;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const {saveState} = this.props;\r\n    if(saveState) {\r\n      saveState(this.state);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let c = this.state.color;\r\n    let isNotBlack = (c.r+c.g+c.b !== 0);\r\n    let formatedColor = \"rgba(\"+c.r+\", \"+c.g+\", \"+c.b+\", \"+c.a/255+\")\";\r\n    let formatedTextColor = (isNotBlack) ? formatedColor : \"rgba(255, 255, 255, 1)\";\r\n    let formatedBackgroundColor = (isNotBlack) ? \"rgba(0, 0, 0, 1)\" : \"rgba(255, 255, 255, 1)\" ;\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} unauthorized={this.constructor.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DragBox icon={this.constructor.icon} color={formatedColor} textColor={formatedTextColor} backgroundColor={formatedBackgroundColor} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} el={this}>\r\n            <span className=\"Box__content\">\r\n              <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n                {this.getTransforms()}\r\n              </ContextMenuTrigger>\r\n              <DropBox el={this}>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id} holdToDisplay={-1}>\r\n                  {this.constructor.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBox._id = 0; //or use shortid ?\r\n\r\nexport default Box;\r\n","import React from 'react';\r\nimport './BoxGroup.css';\r\nimport Box from '../Box/Box';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport DragBox from '../DragBox/DragBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\nconst className = \"BoxGroup\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass BoxGroup extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = BoxGroup.className;\r\n    this.elements = [];\r\n  }\r\n\r\n  addChild(child) {\r\n\r\n    if(!child) return;\r\n    let obj = new child(); //tricky\r\n    let children = this.state.children;\r\n    if(obj instanceof Box && this.isAuthorized(child)) {\r\n      this.setState({\r\n        children: [...this.state.children, {type:this.beforeAddChild(child), id:Box.id}]\r\n      });\r\n    }\r\n  }\r\n\r\n  pushChild(child) {\r\n    if(!child || !(\"type\" in child) || !(\"id\" in child)) return;\r\n    let obj = new child.type(); //tricky\r\n    if(this.isAuthorized(child.type) && obj instanceof Box) {\r\n      let children = this.state.children;\r\n      children.push(child);\r\n      console.log(child);\r\n      this.setState({\r\n        children: children\r\n      });\r\n    }\r\n  }\r\n\r\n  setChildren(children) {\r\n    this.elements = [];\r\n    super.setChildren(children);\r\n  }\r\n\r\n  draw(sk) {\r\n    let el = this.elements;\r\n    for(let i = 0; i <el.length; ++i) {\r\n       let element = el[i];\r\n       sk.push();\r\n         this.drawBeforeChild(sk, element);\r\n         if(element) element.draw(sk);\r\n        sk.pop();\r\n    }\r\n  }\r\n\r\n  initElements(instance = Box, callback = function() {}) {\r\n\r\n    let elements = [];\r\n\r\n    const children = React.Children.map(this.props.children,\r\n       (child, index) => {\r\n              elements.push(child);\r\n              //box.parent = callback;\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.initElements();\r\n  }\r\n\r\n  getChildren() {\r\n    this.elements = [];\r\n    let children = this.state.children.map((child, index) =>\r\n      <child.type key={child.id} id={child.id} parent={this} ref={el => {if(el) this.elements[index] = el.ref;}} saveState={(state) => {child.state = state}} state={child.state}/>\r\n    );\r\n\r\n\r\n    return children;\r\n  }\r\n\r\n  renderBox() {\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n\r\n    const renderBox = this.renderBox() ? true : false;\r\n\r\n    return (\r\n      <div className={this.className} style={this.state.style}>\r\n        <ContextMenuBox id={this.constructor.className + this.props.id} suppMenu={this.suppMenu} unauthorized={this.constructor.unauthorized} el={this}>\r\n          <DragBox icon={this.constructor.icon} name={this.constructor.className} onClose={this.removeFromParent.bind(this)} className={this.className} el={this}>\r\n            <span className=\"Box__content\">\r\n              {renderBox && <ContextMenuTrigger id={\"\"}>\r\n                {this.renderBox()}\r\n              </ContextMenuTrigger>}\r\n              <DropBox el={this}>\r\n                <ContextMenuTrigger id={this.constructor.className + this.props.id} holdToDisplay={-1}>\r\n                  {this.constructor.unauthorized.indexOf(\"*\") === -1 && <div className=\"Box__container\">\r\n                    {!this.state.children.length && <span className=\"Box__placeholder\">Right click to add</span>}\r\n                    {this.getChildren()}\r\n                  </div>}\r\n                </ContextMenuTrigger>\r\n              </DropBox>\r\n            </span>\r\n          </DragBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BoxGroup;\r\n","import Color from './Color';\r\n\r\nclass Black extends Color {\r\n\r\n  constructor() {\r\n    super(0, 0, 0, 255);\r\n  }\r\n\r\n}\r\n\r\nBlack.className = \"Black\";\r\n\r\nexport default Black;\r\n","import React from 'react';\r\nimport './Workspace.css';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport { DragDropContext } from 'react-dnd';\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport DropBox from '../DropBox/DropBox';\r\nimport ContextMenuBox from '../ContextMenuBox/ContextMenuBox';\r\nimport Black from '../Colors/Black';\r\n\r\nconst menuColor = [\r\n  {\r\n    type: 'Background Color',\r\n    elements: [\r\n      {type: 'Black'},\r\n      {type: 'White'},\r\n      {type: 'Red'},\r\n      {type: 'Orange'},\r\n      {type: 'Yellow'},\r\n      {type: 'Green'},\r\n      {type: 'LightBlue',\r\n      name: 'Light Blue'},\r\n      {type: 'Blue'}\r\n    ]\r\n  }\r\n];\r\n\r\nconst className = \"Workspace\";\r\nconst unauthorized = [\"Markov\", \"Series\"];\r\n\r\nclass Workspace extends BoxGroup {\r\n\r\n  static _instance;\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return unauthorized;\r\n  }\r\n\r\n  static addChild(box) {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.addChild(box);\r\n    }\r\n  }\r\n\r\n  static forceUpdate() {\r\n    if(Workspace._instance !== undefined) {\r\n      Workspace._instance.forceUpdate();\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    if(Workspace._instance !== undefined) {\r\n      return Workspace._instance;\r\n    }\r\n    super(props);\r\n    this.className = this.constructor.className;\r\n    this.elements = []; //no this.state.elements\r\n    this.addDrawBeforeType(\"Figure\", function(sk) {\r\n      sk.translate(sk.width / 2, sk.height / 2)\r\n      sk.scale(sk.width, sk.height);\r\n      sk.strokeWeight(1 / sk.width);\r\n    });\r\n    Workspace._instance = this;\r\n    // Redefinition of Menu Colors\r\n    this.suppMenu = [{\r\n      menu: menuColor,\r\n      handleClick: (event, data) => {\r\n       if(data.type) {\r\n         let color = window.getClassFromName(data.type);\r\n         if(color) this.setState({color: new color()});\r\n         window.updateWorkspace();\r\n       }\r\n      }\r\n    }];\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.children = [];\r\n    this.state.color = new Black();\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.background(this.state.color.getP5Color(sk));\r\n    sk.noStroke();\r\n    super.draw(sk);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let canvas = new Canvas();\r\n    canvas.sendDraw(this.draw.bind(this));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.className}>\r\n        <ContextMenuBox id={this.constructor.className} unauthorized={this.unauthorized} suppMenu={this.suppMenu} el={this}>\r\n          <DropBox el={this}>\r\n            {!this.state.children.length && <span className=\"Workspace__placeholder\">Right click here</span>}\r\n            {this.getChildren()}\r\n          </DropBox>\r\n        </ContextMenuBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragDropContext(HTML5Backend)(Workspace);\r\n","import React, { Component } from 'react';\r\nimport './Save.css';\r\nimport JSZip from 'jszip';\r\nimport {saveAs} from 'file-saver';\r\n\r\n// import Components\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport icon_save_alt from '../../Icons/save_alt.svg';\r\nimport burst_mode from '../../Icons/burst_mode.svg';\r\nimport arrow_up from '../../Icons/arrow_upUI.svg';\r\nimport arrow_down from '../../Icons/arrow_downUI.svg';\r\n\r\n\r\nclass Save extends Component {\r\n  state = {\r\n    DownloadName: \"Untitled\",\r\n    DownloadNameSaved: \"Untitled\",\r\n    DownloadSuffixNumber: {\r\n      svg: 0,\r\n      jpg: 0\r\n    },\r\n    DownloadSuffix: \"\",\r\n    DownloadFormat: \"jpg\",\r\n    zipNumber: 10\r\n  }\r\n  downloadImage = function(el) {\r\n\r\n    let nb = this.state.DownloadSuffixNumber;\r\n    let dname = this.state.DownloadName;\r\n    nb[this.state.DownloadFormat] = nb[this.state.DownloadFormat]+1;\r\n    this.setState({DownloadSuffixNumber: nb});\r\n    this.setState({DownloadSuffix: \"-\" + (nb[this.state.DownloadFormat]+1)});\r\n\r\n    if (this.state.DownloadName === this.state.DownloadNameSaved) {\r\n      dname = (nb[this.state.DownloadFormat] === 1) ? this.state.DownloadName : this.state.DownloadName + \"-\" + nb[this.state.DownloadFormat];\r\n      Canvas.savePaper(dname, this.state.DownloadFormat);\r\n    } else {\r\n      this.setState({DownloadNameSaved: this.state.DownloadName});\r\n      Canvas.savePaper(dname, this.state.DownloadFormat);\r\n    }\r\n    console.log(\"SUFFIX\", nb[this.state.DownloadFormat], \"NAME + FORMAT\", dname + \".\" + this.state.DownloadFormat);\r\n  }\r\n\r\n  downloadZip = function() {\r\n    let zip = new JSZip();\r\n    zip.file(this.state.DownloadName + \".txt\", \"By Paperwork\\n\");\r\n    let img = zip.folder(this.state.DownloadName);\r\n    for(let i = 0; i < this.state.zipNumber; ++i) {\r\n      img.file(`${this.state.DownloadName}-${i}.${this.state.DownloadFormat}`, Canvas.getImageData(), {base64: true});\r\n      Canvas.draw();\r\n    }\r\n    const self = this;\r\n    zip.generateAsync({type:\"blob\"})\r\n    .then(function(content) {\r\n        saveAs(content, self.state.DownloadName+\".zip\");\r\n    });\r\n  }\r\n\r\n  checkZipNumber = function(value) {\r\n    return (value === \"\" || value === parseInt(value, 10) || value >= 1000 || value <= 1) ? 10 : value;\r\n  }\r\n\r\n  incrementZipNumber = function() {\r\n    this.setState({zipNumber: (this.state.zipNumber === 1000) ? this.state.zipNumber : parseInt(this.state.zipNumber)+1})\r\n  }\r\n\r\n  decrementZipNumber = function() {\r\n    this.setState({zipNumber: (this.state.zipNumber === 1) ? this.state.zipNumber : parseInt(this.state.zipNumber)-1})\r\n  }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"save\">\r\n              <div className=\"button burstMode border-right\" onClick={this.downloadZip.bind(this)}>\r\n                <SVG src={burst_mode}/>\r\n              </div>\r\n              <div className=\"save__zipNumber border-right\">\r\n                <input\r\n                className=\"save__zipNumberInput\"\r\n                type=\"number\"\r\n                value={this.state.zipNumber}\r\n                onChange={(event) => {\r\n                  this.setState({zipNumber: event.target.value})\r\n                }}\r\n                onBlur={(event) => {\r\n                  this.setState({zipNumber: this.checkZipNumber(event.target.value)})\r\n                }}\r\n                />\r\n                <div className=\"save__zipNumberArrows border-left\">\r\n                  <div className=\"button border-bottom\" onClick={(event) => this.incrementZipNumber()}><SVG src={arrow_up}/></div>\r\n                  <div className=\"button\" onClick={(event) => this.decrementZipNumber()}><SVG src={arrow_down}/></div>\r\n                </div>\r\n              </div>\r\n              <input\r\n              className=\"save__name\"\r\n              type=\"text\"\r\n              value={this.state.DownloadName}\r\n              onChange={(event) => {\r\n                this.setState({DownloadSuffixNumber: {svg: 0, jpg: 0}, DownloadSuffix: \"\", DownloadName: event.target.value})\r\n              }}\r\n              onBlur={(event) => {\r\n                const dname = (event.target.value === \"\") ? \"Untitled\" : event.target.value;\r\n                this.setState({DownloadName: dname});\r\n              }}\r\n              />\r\n              <span className=\"save__nameSuffixe\">{this.state.DownloadSuffix}</span>\r\n              <div className=\"save__format\">\r\n                <input id=\"save__jpg\" type=\"radio\" value=\"jpg\" name=\"saveFormat\" defaultChecked onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                <label htmlFor=\"save__jpg\" className=\"save__formatItem button border-left\">.jpg</label>\r\n                <input id=\"save__svg\" type=\"radio\" value=\"svg\" name=\"saveFormat\" onChange={(event) => {if(event.target.checked) {this.setState({DownloadFormat: event.target.value})}}}/>\r\n                <label htmlFor=\"save__svg\" className=\"save__formatItem button border-left\">.svg</label>\r\n              </div>\r\n              <a className=\"button save__button border-left\" onClick={(event) => this.downloadImage(event.target)}>\r\n                <SVG src={icon_save_alt}/>\r\n              </a>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Save;\r\n","import Box from '../Box/Box';\r\nimport './Figure.css';\r\n\r\nconst className = \"Figure\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Figure extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Figure.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 0;\r\n    this.height = 0;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.push();\r\n      sk.fill(this.state.color.getP5Color(sk));\r\n      sk.scale(this.state.scale.x, this.state.scale.y);\r\n      sk.translate(-this.width / 2, -this.height / 2);\r\n      this.drawFigure(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nexport default Figure;\r\n","import './Rectangle.css';\r\nimport Figure from '../Figure';\r\nimport square from '../../../Icons/full_square.svg';\r\n\r\nconst className = \"Rectangle\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Rectangle extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return square;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rectangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.rect(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nexport default Rectangle;\r\n","import './Triangle.css';\r\nimport Figure from '../Figure';\r\nimport triangle from '../../../Icons/full_triangle.svg';\r\n\r\nconst className = \"Triangle\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Triangle extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return triangle;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Triangle.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.triangle(this.x, this.y + this.height, this.x + this.width, this.y + this.height, (this.x + this.width) / 2, this.y);\r\n  }\r\n}\r\n\r\n\r\nexport default Triangle;\r\n","import './Ellipse.css';\r\nimport Figure from '../Figure';\r\nimport ellipse from '../../../Icons/full_ellipse.svg';\r\n\r\nconst className = \"Ellipse\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Ellipse extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return ellipse;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Ellipse.className;\r\n    this.width = 1;\r\n    this.height = 1;\r\n    this.x = this.width / 2;\r\n    this.y = this.height / 2;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    sk.ellipse(this.x, this.y, this.width, this.height);\r\n  }\r\n\r\n}\r\n\r\nexport default Ellipse;\r\n","import React from 'react';\r\nimport Transform from '../Transform';\r\nimport './Density.css';\r\n//import densityIcon from '../../../Icons/scale.svg';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\n\r\n/*Attribute*/\r\nclass Density extends Transform {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Density.className;\r\n    this.density = 11;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <SliderBox min={2} max={20} defaultValue={11} marks={{2:1, 11:10, 20:19}} step={1} onChange={(value) => {\r\n        this.density = value;\r\n        if(this.props.onChange) this.props.onChange(this.density);\r\n      }} />\r\n    );\r\n  }\r\n}\r\n\r\nDensity.className = \"Density\";\r\n//Density.icon = densityIcon;\r\n\r\nexport default Density;\r\n","import React from 'react';\r\nimport Figure from '../Figure';\r\nimport Density from '../../Transforms/Density/Density'\r\nimport './Hatching.css';\r\n\r\nconst className = \"Hatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Hatching extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.density = 11;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Hatching.className;\r\n  }\r\n\r\n  getTransforms() {\r\n    let Transforms = new Array();\r\n    Transforms.push(<Density onChange={(density) => {this.setState({density: density});}}/>);\r\n    return Transforms;\r\n  }\r\n\r\n  draw(sk) {\r\n    sk.stroke(this.state.color.getP5Color(sk));\r\n    super.draw(sk);\r\n    sk.noStroke();\r\n  }\r\n\r\n}\r\n\r\nexport default Hatching;\r\n","import './HHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport HHatchingIcon from '../../../../Icons/HHatching.svg';\r\n\r\nconst className = \"HHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass HHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return HHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + HHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    const density = this.state.density;\r\n    let gapY = this.height / density;\r\n    for(var j = 0; j <= density ; j++){\r\n      sk.line(this.x, this.y + j * gapY, this.x + this.width, this.y + j * gapY);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default HHatching;\r\n","import './VHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport VHatchingIcon from '../../../../Icons/VHatching.svg';\r\n\r\nconst className = \"VHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass VHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return VHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + VHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    const density = this.state.density;\r\n    let gapX = this.width / density;\r\n    for(var i = 0; i <= density ; i++){\r\n      sk.line(this.x + i * gapX, this.y, this.x + i * gapX, this.y + this.height);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default VHatching;\r\n","import './LOHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport LOHatchingIcon from '../../../../Icons/LOHatching.svg';\r\n\r\nconst className = \"LOHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass LOHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return LOHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LOHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x;\r\n    let j = this.y + this.height;\r\n    const density = this.state.density;\r\n    let gapX = (this.width / density);\r\n    let gapY = (this.height / density);\r\n    while(i < this.x + this.width){\r\n      sk.line(i, this.y, this.x+this.width, j);\r\n      i += gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x + this.width;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(this.x, j, i, this.y+this.height);\r\n      i -= gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default LOHatching;\r\n","import './ROHatching.css';\r\nimport Hatching from '../Hatching';\r\nimport ROHatchingIcon from '../../../../Icons/ROHatching.svg';\r\n\r\nconst className = \"ROHatching\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass ROHatching extends Hatching {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return ROHatchingIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + ROHatching.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    let i = this.x + this.width;\r\n    let j = this.y + this.height;\r\n    const density = this.state.density;\r\n    let gapX = (this.width / density);\r\n    let gapY = (this.height / density);\r\n    while(j > this.y){\r\n      sk.line(this.x, j, i, this.y);\r\n      i -= gapX;\r\n      j -= gapY;\r\n    }\r\n\r\n    i = this.x;\r\n    j = this.y;\r\n    while(j < this.y + this.height){\r\n      sk.line(i, this.y + this.height, this.x + this.width, j);\r\n      i += gapX;\r\n      j += gapY;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default ROHatching;\r\n","import React from 'react';\r\nimport Box from '../Box/Box';\r\nimport './Placement.css';\r\nimport Workspace from '../Workspace/Workspace';\r\n\r\nconst className = \"Placement\";\r\nconst unauthorized = [\"Placement\"];\r\n\r\n/*Pencil*/\r\nclass Placement extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Placement.className;\r\n    this.suppMenu.push({\r\n      menu: undefined,\r\n      handleClick: (event, data) => {\r\n        if(data.type) {\r\n          this.setState({mode: window.getClassFromName(data.type)})\r\n          Workspace.forceUpdate();\r\n        }\r\n      }\r\n    });\r\n    this.suppMenu[this.suppMenu.length - 1].handleClick.bind(this);\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.currentMode = undefined;\r\n    this.state.mode = null;\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n  renderMode() {\r\n    if(!this.state.mode) return null;\r\n    return (<this.state.mode key={this.constructor.className + this.state.mode.className} ref={el => {this.state.currentMode = el}} />);\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n  }\r\n}\r\n\r\nexport default Placement;\r\n","import BoxGroup from '../BoxGroup/BoxGroup';\r\nimport './Series.css';\r\n\r\nconst className = \"Series\";\r\nconst unauthorized = [\"Placement\", \"Series\", \"Markov\"];\r\n\r\n/*Pencil*/\r\nclass Series extends BoxGroup {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Series.className;\r\n    this.suppMenu = [];\r\n    this.currentState = 0;\r\n  }\r\n\r\n  setChildren(children) {\r\n    console.log(this.state.children.length);\r\n    super.setChildren(children);\r\n    this.currentState = 0;\r\n    console.log(this.state.children.length);\r\n  }\r\n\r\n  draw(sk) {\r\n    if(this.elements.length === 0) return;\r\n\r\n    if(this.elements[this.currentState]) this.elements[this.currentState].draw(sk);\r\n    this.currentState = (this.currentState + 1) % this.elements.length;\r\n  }\r\n\r\n}\r\n\r\nexport default Series;\r\n","import React, { Component } from 'react';\r\nimport './Mode.css';\r\n\r\n\r\n/*Pencil*/\r\nclass Mode extends Component {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className = Mode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"gridMode\">\r\n        <span className=\"gridMode__label\">Grid Distribution </span>\r\n        <span className=\"gridMode__text\">{this.constructor.className}</span>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nMode.className = \"Mode\";\r\n\r\nexport default Mode;\r\n","import './GridMode.css';\r\nimport Mode from \"../Mode\";\r\n\r\n\r\n/*Pencil*/\r\nclass GridMode extends Mode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + GridMode.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n\r\n  }\r\n\r\n}\r\n\r\nGridMode.className = \"GridMode\";\r\n\r\nexport default GridMode;\r\n","import GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearX extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearX.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback, lines} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < rows; i++) {\r\n      sk.push();\r\n        sk.translate(0, row * i);\r\n        if(lines) sk.line(0, 0, sk.width, 0);\r\n    \t\tfor(var j = 0; j < columns; j++) {\r\n          sk.push();\r\n            sk.translate(j * column, 0);\r\n            if(lines) sk.line(0, 0, 0, sk.height);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n}\r\n\r\nLinearX.className = \"LinearX\";\r\n\r\nexport default LinearX;\r\n","import React from 'react';\r\nimport Placement from '../Placement';\r\nimport './Grid.css';\r\nimport 'rc-slider/assets/index.css';\r\nimport SliderBox from '../../Input/SliderBox/SliderBox';\r\nimport grid_on from '../../../Icons/grid_on.svg';\r\nimport InBox from '../../InBox/InBox';\r\nimport Series from '../../Series/Series';\r\n\r\nimport LinearX from '../../Modes/GridMode/LinearX/LinearX';\r\n\r\n\r\nconst menu = [{\r\n  type: 'Modes',\r\n  elements: [\r\n    {\r\n      type: 'DiagonalLeft',\r\n      name: 'Diagonal Left'\r\n    },\r\n    {\r\n      type: 'DiagonalRight',\r\n      name: 'Diagonal Right'\r\n    },\r\n    {\r\n      type: 'LinearX',\r\n      name: 'Linear X'\r\n    },\r\n    {\r\n      type: 'LinearY',\r\n      name: 'Linear Y'\r\n    },\r\n    {\r\n      type: 'Orthogonal'\r\n    },\r\n    {\r\n      type: 'SnailRight',\r\n      name: 'Snail Right'\r\n    }\r\n  ]\r\n}];\r\n\r\nconst className = \"Grid\";\r\nconst unauthorized = [\"Placement\"];\r\nconst doBeforeAddChild = {\r\n  Figure: (child) => {\r\n    return InBox(Series, child);\r\n  }\r\n}\r\n\r\n/*Pencil*/\r\nclass Grid extends Placement {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return grid_on;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Grid.className;\r\n    this.doBeforeAddChild = doBeforeAddChild;\r\n    //const {columns, rows} = this.props;\r\n    this.suppMenu[this.suppMenu.length - 1].menu = menu;\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.columns = 8;\r\n    this.state.rows = 8;\r\n    this.state.mode = LinearX;\r\n  }\r\n\r\n  draw(sk) {\r\n\r\n    var column = sk.width/this.state.columns;\r\n  \tvar row = sk.height/this.state.rows;\r\n    var elem = this.next;\r\n    var currentMode = this.state.currentMode;\r\n\r\n  \tif(!elem) sk.stroke(this.state.color.getP5Color(sk));\r\n\r\n    if(currentMode) {\r\n      currentMode.mode(sk, {\r\n        columns: this.state.columns,\r\n        rows: this.state.rows,\r\n        lines: elem ? false : true,\r\n        callback: function() {\r\n          if(elem) {\r\n            sk.noStroke();\r\n            sk.push();\r\n              sk.translate(column / 2, row / 2);\r\n              sk.scale(column, row);\r\n              sk.strokeWeight(1/column);\r\n              elem.draw(sk);\r\n              sk.strokeWeight(1);\r\n            sk.pop();\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  renderBox() {\r\n    return(\r\n      <>\r\n        <SliderBox\r\n        min={1}\r\n        max={50}\r\n        defaultValue={this.state.columns}\r\n        marks={{1: 1, 50: 50}}\r\n        step={1}\r\n        onChange={(value) => {this.setState({columns: value, rows: value});}}\r\n        />\r\n        {this.renderMode()}\r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Grid;\r\n","import React, { Component } from 'react';\r\nimport Box from \"../Box/Box\";\r\n\r\nexport default function InBox(Wrapper, ...Children) {\r\n\r\n\r\n  const authorizedChildren = Children.filter(\r\n    (Child) => window.isAuthorized(Child, Wrapper.unauthorized)\r\n  );\r\n\r\n  const cl = class extends Component {\r\n\r\n    static wrapper = Wrapper;\r\n    static children = authorizedChildren;\r\n\r\n    render() {\r\n\r\n      const boxChildren = authorizedChildren.map(\r\n        (Child) => {return {type: Child, id: Box.id};}\r\n      );\r\n\r\n      return(\r\n        <Wrapper {...this.props} ref={(el) => {\r\n          if(!el) return;\r\n          this.ref = el;\r\n          el.state.children = boxChildren;\r\n          this.props.saveState(el.state);\r\n          const child = this.props.parent.state.children.find(\r\n            (child) => child.id === this.props.id\r\n          );\r\n          child.type = Wrapper;\r\n          this.props.parent.forceUpdate();\r\n          window.updateWorkspace();\r\n          }}>\r\n        </Wrapper>\r\n      );\r\n    }\r\n  };\r\n\r\n  return cl;\r\n};\r\n","import React from 'react';\r\nimport Workspace from '../../Workspace/Workspace';\r\nimport Input from '../Input';\r\nimport { Range } from 'rc-slider';\r\nimport './RangeBox.css';\r\n\r\nclass RangeBox extends Input {\r\n    render() {\r\n        let trackStyleArray = new Array(this.props.count);\r\n        trackStyleArray.fill({height: '8px', backgroundColor: 'black', borderRadius: 'unset' });\r\n        let handleStyleArray = new Array(this.props.count);\r\n        handleStyleArray.fill({marginTop: '-3px', borderColor: 'black' });\r\n        return(\r\n        <Range\r\n        {...this.props}\r\n        className=\"Box__slider\"\r\n        style={{padding: '3px 0'}}\r\n        trackStyle={trackStyleArray}\r\n        railStyle={{height: '8px', backgroundColor: 'black', borderRadius: 'unset' }}\r\n        handleStyle={handleStyleArray}\r\n        dotStyle={{bottom: '-4px', borderColor: 'black' }}\r\n        onChange={(value) => {this.props.onChange(value);}}\r\n        onAfterChange={() => Workspace.forceUpdate()}\r\n        ref={el => {if(this.props.innerRef) this.props.innerRef(el);}}\r\n        />\r\n        );\r\n    }\r\n}\r\n\r\nexport default RangeBox;\r\n","import React from 'react';\r\nimport BoxGroup from '../BoxGroup/BoxGroup';\r\nimport 'rc-slider/assets/index.css';\r\nimport './Markov.css';\r\nimport RangeBox from '../Input/RangeBox/RangeBox';\r\nimport shortid from 'shortid';\r\n\r\n//import Icons\r\nimport SVG from 'react-svg';\r\nimport next from '../../Icons/next.svg';\r\nimport unknown from '../../Icons/unknown.svg';\r\n\r\nfunction clamp_left(a, b) {\r\n   return a < b ? b : a;\r\n}\r\n\r\nfunction clamp_right(a, b) {\r\n   return a > b ? b : a;\r\n}\r\n\r\nfunction clamp(a, b, c) {\r\n  return clamp_left(clamp_right(a, c), b);\r\n}\r\n\r\nfunction checkLeft(userValue, i, handle) {\r\n  if (i < 0) return;\r\n  if (userValue <= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkLeft(userValue, --i, handle);\r\n  }\r\n}\r\n\r\nfunction checkRight(userValue, i, handle) {\r\n  if (i >= handle.length) return;\r\n  if (userValue >= handle[i]) {\r\n    handle[i] = userValue;\r\n    checkRight(userValue, ++i, handle);\r\n  }\r\n}\r\n\r\nconst className = \"Markov\";\r\nconst unauthorized = [\"Placement\"];\r\n\r\n/*Pencil*/\r\nclass Markov extends BoxGroup {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Markov.className;\r\n    this.suppMenu = [];\r\n    this.elementsLength = this.state.children.length;\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n    this.idElement = [];\r\n  }\r\n\r\n  initState() {\r\n    super.initState();\r\n    this.state.proba = [];\r\n  }\r\n\r\n  setChildren(children) {\r\n    super.setChildren(children);\r\n    this.currentState = parseInt(Math.random() * (this.elementsLength));\r\n  }\r\n\r\n  draw(sk) {\r\n    let length = this.state.children.length;\r\n    if(length === 0) return;\r\n    let element = this.elements[this.currentState];\r\n    if(length === 1) {\r\n      if(element) element.draw(sk);\r\n      return;\r\n    }\r\n    let proba = 0;\r\n    let rand = parseInt(Math.random() * (100));\r\n    let i;\r\n\r\n    for(i = 0; i < length && rand >= proba; ++i) {\r\n      proba = this.state.proba[this.currentState][i];\r\n    }\r\n\r\n    if(this.elements[i - 1]) this.elements[i - 1].draw(sk);\r\n    this.currentState = i - 1;\r\n  }\r\n\r\n  renderBox() {\r\n    const length = this.state.children.length;\r\n    let defaultValues = [];\r\n    let sliders;\r\n\r\n    for(let i = 1; i <= length - 1; ++i) {\r\n      if (i === length-1) defaultValues.push(Math.floor(100/length/10)*10*i+100%(length*10));\r\n      else defaultValues.push(Math.floor(100/length/10)*10*i);\r\n    }\r\n\r\n    if(length - 1 > 0) {\r\n      let propsRange = {\r\n        min: 0,\r\n        max: 100,\r\n        defaultValue: defaultValues,\r\n        marks: {0:0, 100:100},\r\n        step: 5,\r\n        count: length - 1,\r\n        pushable: 0\r\n      };\r\n\r\n      sliders = this.state.children.map((child, index) => {\r\n        let inputs = [], RangeIcon;\r\n\r\n        RangeIcon = <span className=\"Markov__RangeIcon\">\r\n          <SVG src={child.type.icon}/>\r\n          <SVG src={next}/>\r\n          <SVG src={unknown}/>\r\n        </span>;\r\n\r\n          if(this.elementsLength !== length) {\r\n            this.state.proba[index] = [...defaultValues]; //remove reference\r\n            this.idElement[index] = shortid.generate();\r\n            propsRange.innerRef = (el) => {if(el) this.state.proba[index] = el.state.bounds};\r\n            propsRange.innerRef.bind(this);\r\n          }\r\n          propsRange.key = this.idElement[index];\r\n          propsRange.onChange = (value) => {this.state.proba[index] = value;}\r\n\r\n          for (let i = 0; i < length; i++) {\r\n            let propsInput = {\r\n              type: \"number\",\r\n              key: this.idElement[index]+i,\r\n              min: 0,\r\n              max: 100,\r\n              step: 5,\r\n            };\r\n            if (i === 0) {\r\n              propsInput.value = this.state.proba[index][i];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value, i, proba[index]);\r\n                checkRight(value, i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else if (i === length-1) {\r\n              propsInput.value = 100-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(100-value, i-1, proba[index]);\r\n                checkRight(100-value, i-1, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            } else {\r\n              propsInput.max = 100 - this.state.proba[index][i-1];\r\n              propsInput.value = this.state.proba[index][i]-this.state.proba[index][i-1];\r\n              propsInput.onChange = (event) => {\r\n                let proba = this.state.proba;\r\n                let value = clamp(parseInt(event.target.value), propsInput.min, propsInput.max);\r\n                checkLeft(value+this.state.proba[index][i-1], i, proba[index]);\r\n                checkRight(value+this.state.proba[index][i-1], i, proba[index]);\r\n                this.setState({proba:proba});\r\n              };\r\n            }\r\n            propsInput.onKeyDown = propsInput.onChange;\r\n            inputs.push(<div className=\"Markov__InputContainer\">\r\n              <span className=\"Markov__InputIcon\">\r\n                <SVG src={this.state.children[i].type.icon}/>\r\n              </span>\r\n              <input className=\"Markov__Input\" {...propsInput}/>\r\n            </div>);\r\n          }\r\n\r\n          return (\r\n\r\n              <div className=\"Markov__Containers\">\r\n                <div className=\"Markov__RangeContainer\">\r\n                  {RangeIcon}\r\n                  <RangeBox {...propsRange}/>\r\n                </div>\r\n                <div className=\"Markov__InputsContainer\">\r\n                  {inputs}\r\n                </div>\r\n              </div>\r\n            );\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.elementsLength = length;\r\n\r\n    return <div className=\"Markov__Parameters\">{sliders}</div>;\r\n  }\r\n\r\n}\r\n\r\nexport default Markov;\r\n","import Transform from '../Transform';\r\nimport './Translate.css';\r\nimport translate from '../../../Icons/translate.svg';\r\n\r\n/*Attribute*/\r\nclass Translate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Translate.className;\r\n    this.destX = 10;\r\n    this.destY = 10;\r\n  }\r\n}\r\n\r\nTranslate.className = \"Translate\";\r\nTranslate.icon = translate;\r\n\r\n\r\nexport default Translate;\r\n","import Transform from '../Transform';\r\nimport './Rotate.css';\r\nimport rotate from '../../../Icons/rotate.svg';\r\n\r\n/*Attribute*/\r\nclass Rotate extends Transform {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Rotate.className;\r\n    this.rotate = 20;\r\n  }\r\n\r\n  /*draw(sk) {\r\n    sk.push();\r\n      sk.rotate(sk.radians(this.rotate));\r\n      if(this.next) {\r\n        this.next.draw(sk);\r\n      }\r\n    sk.pop();\r\n  }*/\r\n}\r\n\r\nRotate.className = \"Rotate\";\r\nRotate.icon = rotate;\r\n\r\nexport default Rotate;\r\n","import Box from '../Box/Box';\r\nimport './Void.css';\r\nimport voidIcon from '../../Icons/void.svg';\r\n\r\nconst className = \"Void\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Void extends Box {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return voidIcon;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Void.className;\r\n    this.suppMenu = [];\r\n  }\r\n\r\n  getTransforms() {\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\nexport default Void;\r\n","import Color from './Color';\r\n\r\nclass Red extends Color {\r\n\r\n  constructor() {\r\n    super(229, 38, 30, 255);\r\n  }\r\n\r\n}\r\n\r\nRed.className = \"Red\";\r\n\r\nexport default Red;\r\n","import Color from './Color';\r\n\r\nclass Orange extends Color {\r\n\r\n  constructor() {\r\n    super(235, 117, 50, 255);\r\n  }\r\n\r\n}\r\n\r\nOrange.className = \"Orange\";\r\n\r\nexport default Orange;\r\n","import Color from './Color';\r\n\r\nclass Yellow extends Color {\r\n\r\n  constructor() {\r\n    super(247, 208, 56, 255);\r\n  }\r\n\r\n}\r\n\r\nYellow.className = \"Yellow\";\r\n\r\nexport default Yellow;\r\n","import Color from './Color';\r\n\r\nclass Green extends Color {\r\n\r\n  constructor() {\r\n    super(163, 224, 71, 255);\r\n  }\r\n\r\n}\r\n\r\nGreen.className = \"Green\";\r\n\r\nexport default Green;\r\n","import Color from './Color';\r\n\r\nclass LightBlue extends Color {\r\n\r\n  constructor() {\r\n    super(52, 185, 230, 255);\r\n  }\r\n\r\n}\r\n\r\nLightBlue.className = \"LightBlue\";\r\n\r\nexport default LightBlue;\r\n","import Color from './Color';\r\n\r\nclass Blue extends Color {\r\n\r\n  constructor() {\r\n    super(67, 85, 219, 255);\r\n  }\r\n\r\n}\r\n\r\nBlue.className = \"Blue\";\r\n\r\nexport default Blue;\r\n","import Color from './Color';\r\n\r\nclass White extends Color {\r\n\r\n  constructor() {\r\n    super(255, 255, 255, 255);\r\n  }\r\n\r\n}\r\n\r\nWhite.className = \"White\";\r\n\r\nexport default White;\r\n","import React, { Component } from 'react';\r\nimport './Symbol.css';\r\nimport Figure from '../Figure';\r\n\r\nconst className = \"Symbol\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Symbol extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Symbol.className;\r\n  }\r\n}\r\n\r\n\r\nexport default Symbol;\r\n","import React, { Component } from 'react';\r\nimport './Arrow.css';\r\nimport Symbol from '../Symbol';\r\nimport arrow_right from '../../../../Icons/arrow_right.svg';\r\n\r\nconst className = \"Arrow\";\r\nconst unauthorized = [];\r\n\r\n/*Pencil*/\r\nclass Arrow extends Symbol {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return arrow_right;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Arrow.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawFigure(sk) {\r\n    /*const x = this.x;\r\n    const y = this.y;\r\n    const width = this.width;\r\n    const height = this.height;\r\n\r\n    sk.loadSVG(arrow, img =>\r\n      sk.image(img, x, y, width, height)\r\n    );*/\r\n    sk.stroke(this.state.color.getP5Color(sk));\r\n    sk.line(this.x, this.y + 1/2 * this.height, this.x + this.width, this.y + 1/2 * this.height);\r\n    sk.line(this.x + 3/4 * this.width, this.y + 3/4 * this.height, this.x + this.width, this.y + 1/2 * this.height);\r\n    sk.line(this.x + this.width, this.y + 1/2 * this.height, this.x + 3/4 * this.width, this.y + 1/4 * this.height);\r\n    sk.noStroke();\r\n  }\r\n}\r\n\r\n\r\nexport default Arrow;\r\n","import Figure from '../Figure';\r\nimport './Character.css';\r\n\r\nconst className = \"Character\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Character extends Figure {\r\n\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return undefined;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Character.className;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.text = 'noText'\r\n    this.width = 1;\r\n    this.height = 1;\r\n  }\r\n\r\n  drawText(sk) {\r\n    sk.text(this.text, this.x, this.y);\r\n  }\r\n\r\n  draw(sk) {\r\n    const bbox = sk.currentFont.textBounds(this.text, this.x, this.y, this.height);\r\n    sk.push();\r\n      sk.fill(this.state.color.getP5Color(sk));\r\n      sk.scale(this.state.scale.x, this.state.scale.y);\r\n      sk.textSize(this.height);\r\n      sk.translate(-sk.textWidth(this.text) / 2, bbox.h / 2);\r\n      this.drawText(sk);\r\n    sk.pop();\r\n  }\r\n}\r\n\r\nexport default Character;\r\n","import Character from './Character';\r\nimport zero from '../../../Icons/zero.svg';\r\n\r\nconst className = \"Zero\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Number0 extends Character {\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return zero;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Number0.className;\r\n    this.text = '0'\r\n  }\r\n}\r\n\r\nexport default Number0;\r\n","import Character from './Character';\r\nimport one from '../../../Icons/one.svg';\r\n\r\nconst className = \"One\";\r\nconst unauthorized = [\"*\"];\r\n\r\n/*Pencil*/\r\nclass Number1 extends Character {\r\n  static get className() {\r\n    return className;\r\n  }\r\n\r\n  static get icon() {\r\n    return one;\r\n  }\r\n\r\n  static get unauthorized() {\r\n    return [...super.unauthorized, ...unauthorized];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Number1.className;\r\n    this.text = '1'\r\n  }\r\n}\r\n\r\nexport default Number1;\r\n","import GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass LinearY extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + LinearY.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for(var i = 0; i < columns; i++) {\r\n      sk.push();\r\n        sk.translate(column * i, 0);\r\n    \t\tfor(var j = 0; j < rows; j++) {\r\n          sk.push();\r\n            sk.translate(0, j * row);\r\n            if(callback) callback();\r\n          sk.pop();\r\n    \t\t}\r\n      sk.pop();\r\n  \t}\r\n  }\r\n\r\n}\r\n\r\nLinearY.className = \"LinearY\";\r\n\r\nexport default LinearY;\r\n","import GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalLeft extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalLeft.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (let compteur = 0; compteur < columns; compteur++){\r\n      let i = columns - 1;\r\n      let j = compteur;\r\n      while(j >= 0){\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n    for (let compteur = columns-1; compteur > 0; compteur--){\r\n      let i = compteur - 1;\r\n      let j = rows - 1;\r\n      while (i >= 0) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i-=1;\r\n        j-=1;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nDiagonalLeft.className = \"DiagonalLeft\";\r\n\r\nexport default DiagonalLeft;\r\n","import GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass DiagonalRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + DiagonalRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur < columns; compteur++){\r\n      for (var i = 0; i <= compteur; i++) {\r\n        sk.push();\r\n          sk.translate(column * i, (compteur-i) * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n    for (var compteur = columns - 1; compteur > 0; compteur--){\r\n      var i = columns-compteur;\r\n      var j = rows - 1;\r\n      while (i < columns) {\r\n        sk.push();\r\n          sk.translate(column * i, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        i+=1;\r\n        j-=1;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nDiagonalRight.className = \"DiagonalRight\";\r\n\r\nexport default DiagonalRight;\r\n","import GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass Orthogonal extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + Orthogonal.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    for (var compteur = 0; compteur <= columns; compteur++) {\r\n      let i, j;\r\n      for (i = 0; i <= compteur; i++){\r\n        sk.push();\r\n          sk.translate(i * column, compteur * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n      for (j = compteur - 1; j >= 0; j--){\r\n        sk.push();\r\n          sk.translate(column * compteur, j * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nOrthogonal.className = \"Orthogonal\";\r\n\r\nexport default Orthogonal;\r\n","import GridMode from '../GridMode';\r\n\r\n\r\n/*Pencil*/\r\nclass SnailRight extends GridMode {\r\n\r\n  state = {\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.className += \" \" + SnailRight.className;\r\n  }\r\n\r\n  mode(sk, data) {\r\n    const {rows, columns, callback} = data;\r\n\r\n    var column = sk.width/columns;\r\n    var row = sk.height/rows;\r\n\r\n    let a = Math.round(columns / 2) - 1;\r\n    let b = Math.round(rows / 2) - 1;\r\n    let side = 1;\r\n    let move = -1;\r\n\r\n    while (side <= columns) {\r\n      move *= -1;\r\n      for (let i = 0; i<side && a >= 0 && a < columns; i++) {\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        a += move;\r\n      }\r\n      if(a < 0 || a >= columns) break;\r\n\r\n      for (let i = 0; i<side && b >= 0 && b < rows; i++) {\r\n        console.log(a, b);\r\n        sk.push();\r\n          sk.translate(a * column, b * row);\r\n          if(callback) callback();\r\n        sk.pop();\r\n        b += move;\r\n      }\r\n      side++;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nSnailRight.className = \"SnailRight\";\r\n\r\nexport default SnailRight;\r\n","import Figure from './Figures/Figure';\r\nimport Rectangle from './Figures/Rectangle/Rectangle';\r\nimport Triangle from './Figures/Triangle/Triangle';\r\nimport Ellipse from './Figures/Ellipse/Ellipse';\r\nimport HHatching from './Figures/Hatching/HHatching/HHatching';\r\nimport VHatching from './Figures/Hatching/VHatching/VHatching';\r\nimport LOHatching from './Figures/Hatching/LOHatching/LOHatching';\r\nimport ROHatching from './Figures/Hatching/ROHatching/ROHatching';\r\nimport Placement from './Placement/Placement';\r\nimport Grid from './Placement/Grid/Grid';\r\nimport Markov from './Markov/Markov';\r\nimport Transform from './Transforms/Transform';\r\nimport Translate from './Transforms/Translate/Translate';\r\nimport Scale from './Transforms/Scale/Scale';\r\nimport Rotate from './Transforms/Rotate/Rotate';\r\nimport Color from './Colors/Color';\r\nimport Void from './Void/Void';\r\nimport Red from './Colors/Red';\r\nimport Orange from './Colors/Orange';\r\nimport Yellow from './Colors/Yellow';\r\nimport Green from './Colors/Green';\r\nimport LightBlue from './Colors/LightBlue';\r\nimport Blue from './Colors/Blue';\r\nimport Black from './Colors/Black';\r\nimport White from './Colors/White';\r\nimport Series from './Series/Series';\r\nimport Symbol from './Figures/Symbols/Symbol';\r\nimport Arrow from './Figures/Symbols/Arrow/Arrow';\r\nimport Character from './Figures/Characters/Character';\r\nimport Number0 from './Figures/Characters/Number0';\r\nimport Number1 from './Figures/Characters/Number1';\r\n\r\n\r\n//GridModes\r\nimport LinearY from './Modes/GridMode/LinearY/LinearY';\r\nimport LinearX from './Modes/GridMode/LinearX/LinearX';\r\nimport DiagonalLeft from './Modes/GridMode/DiagonalLeft/DiagonalLeft';\r\nimport DiagonalRight from './Modes/GridMode/DiagonalRight/DiagonalRight';\r\nimport Orthogonal from './Modes/GridMode/Orthogonal/Orthogonal';\r\nimport SnailRight from './Modes/GridMode/SnailRight/SnailRight';\r\n\r\nexport function getClassFromName(name) {\r\n  switch(name) {\r\n    case('Figure'):\r\n      return Figure;\r\n    case('Rectangle'):\r\n      return Rectangle;\r\n    case('Triangle'):\r\n      return Triangle;\r\n    case('Ellipse'):\r\n      return Ellipse;\r\n    case('HHatching'):\r\n      return HHatching;\r\n    case('VHatching'):\r\n      return VHatching;\r\n    case('LOHatching'):\r\n      return LOHatching;\r\n    case('ROHatching'):\r\n      return ROHatching;\r\n    case('Placement'):\r\n      return Placement;\r\n    case('Grid'):\r\n      return Grid;\r\n    case('Markov'):\r\n      return Markov;\r\n    case('Transform'):\r\n      return Transform;\r\n    case('Color'):\r\n      return Color;\r\n    case('Red'):\r\n      return Red;\r\n    case('Orange'):\r\n      return Orange;\r\n    case('Yellow'):\r\n      return Yellow;\r\n    case('Green'):\r\n      return Green;\r\n    case('LightBlue'):\r\n      return LightBlue;\r\n    case('Blue'):\r\n      return Blue;\r\n    case('Black'):\r\n      return Black;\r\n    case('White'):\r\n      return White;\r\n    case('Translate'):\r\n      return Translate;\r\n    case('Scale'):\r\n      return Scale;\r\n    case('Rotate'):\r\n      return Rotate;\r\n    case('Void'):\r\n      return Void;\r\n    case('LinearX'):\r\n      return LinearX;\r\n    case('LinearY'):\r\n      return LinearY;\r\n    case('DiagonalLeft'):\r\n      return DiagonalLeft;\r\n    case('DiagonalRight'):\r\n      return DiagonalRight;\r\n    case('Orthogonal'):\r\n      return Orthogonal;\r\n    case('SnailRight'):\r\n      return SnailRight;\r\n    case('Series'):\r\n      return Series;\r\n    case('Arrow'):\r\n      return Arrow;\r\n    case('Symbol'):\r\n      return Symbol;\r\n    case('Character'):\r\n      return Character;\r\n    case('0'):\r\n      return Number0;\r\n    case('1'):\r\n      return Number1\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './App.css';\r\n//import Icons\r\nimport SVG from 'react-svg'\r\nimport icon_info from '../../Icons/info.svg';\r\n// import Components\r\nimport Workspace from '../../Components/Workspace/Workspace';\r\nimport Save from '../../Components/Save/Save';\r\nimport Canvas from '../../Components/Canvas/Canvas';\r\n// import Boxes\r\nimport {getClassFromName} from '../../Components/Index';\r\n\r\nwindow.getClassFromName = getClassFromName;\r\n\r\nwindow.updateWorkspace = Workspace.forceUpdate;\r\n\r\nwindow.addClassToElement = function(name, target) {\r\n  let cl = getClassFromName(name);\r\n  target.addChild(cl);\r\n  if(!(target instanceof Workspace)) {\r\n    Workspace.forceUpdate();\r\n  }\r\n};\r\n\r\nwindow.getIconClassFromName = function(name) {\r\n  let cl = getClassFromName(name);\r\n  if(cl) {\r\n    return cl.icon;\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nwindow.isAuthorized = function(type, unauthorized) {\r\n  let r = true;\r\n  if(!type) return false;\r\n\r\n  if(unauthorized instanceof Array) {\r\n    let obj;\r\n    if(typeof type === 'string') {\r\n      let cl = getClassFromName(type);\r\n      obj = new cl();\r\n    } else {\r\n      obj = new type();\r\n    }\r\n\r\n    for(let i = 0; i < unauthorized.length && r; ++i) {\r\n      let unauthorizedClass = getClassFromName(unauthorized[i]);\r\n      if(unauthorizedClass === null) {\r\n        console.error(unauthorized[i] + ' : Invalid unauthorized Class');\r\n        continue;\r\n      }\r\n      r = r && !(obj instanceof unauthorizedClass);\r\n    }\r\n  } else {\r\n    return false;\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\nlet toggle = false;\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.aboutClick = this.aboutClick.bind(this);\r\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\r\n  }\r\n\r\n  handleOutsideClick(e) {\r\n    // ignore clicks on the component itself\r\n    if (this.aboutContainer.contains(e.target)) {\r\n      return\r\n    }\r\n    if (this.aboutButton.contains(e.target)) {\r\n      this.aboutClick()\r\n      return\r\n    }\r\n    toggle = false\r\n    this.aboutContainer.style.display = 'none'\r\n  }\r\n\r\n  aboutClick() {\r\n    if(!toggle) {\r\n      toggle = !toggle\r\n      this.aboutContainer.style.display = 'flex'\r\n    } else {\r\n      toggle = !toggle\r\n      this.aboutContainer.style.display = 'none'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='App' onClick={(e) => this.handleOutsideClick(e)}>\r\n        <header className='App-header border-bottom'>\r\n          <h1 className='App-logo'>Paperwork&nbsp;<sup className='textExponent'>2019</sup></h1>\r\n          <div className='App-links'>\r\n          <a className='App-link' href='http://mobitool.free.fr/edu/ma-ex1.html' target='_blank' rel='noopener noreferrer'>Markov Example #1</a>\r\n          <a className='App-link' href='http://mobitool.free.fr/edu/ma-ex2.html' target='_blank' rel='noopener noreferrer'>Markov Example #2</a>\r\n          </div>\r\n          <div className='about' ref={aboutButton => { this.aboutButton = aboutButton; }}>\r\n            <SVG src={icon_info}/>\r\n          </div>\r\n        </header>\r\n        <main>\r\n          <div className='leftSide'>\r\n              <div className='aboutContainer' ref={aboutContainer => { this.aboutContainer = aboutContainer; }}>\r\n                <h2 className='aboutTitle'>PaperWork <sup className='textExponent'>2019</sup></h2>\r\n                <a className='aboutLink' href='http://mobitool.free.fr/paper/ea' target='_blank' rel='noopener noreferrer'>State of the arts online</a>\r\n                <p>Paperwork is an online software for research in art and in the field of computer and visual research. It is developed in the perspective of computer art practice in the context of art schools, colleges, high schools and so on. The application helps producing drawings in the philosophy of generative processes. It is concerned with patterns, polygons, repertories and grammars. Moreover, the interface enables the learning and the editing of algorithms and therefore the construction of simple computational processes. It also offers to export svg format that makes it compatible with the traditional vector work area (graphic design, pen plotter, laser cutting, ...).</p>\r\n                <p>Paperwork’s main algorithm is based on Markov chain, an algorithm that was used by artists such as Frieder Nake (Germany), Hiroshi Kawano (Japan), Hervé Huitric and Monique Nahas (France) in early Computer Art. It is now heavily used in our digital environment (google page ranking, chatbots, physical phenomenon modeling, ...). It is also classified in the machine learning area of the computational field.</p>\r\n                <p>The Paperwork web application is based on the previous software experiment Generic Images (2018). Paperwork’s project is developed thanks to IMAC-ESIPE training program in the University Paris-Est Marne-la-Vallée.</p>\r\n                <div className='aboutCredits'>\r\n                <p>Software design team:</p>\r\n                <p>Gaëtan Robillard with Nicolas Cusumano, Cécile Rousset, Vincent Schmid, Quentin Sedmi.</p>\r\n                </div>\r\n              </div>\r\n              <Workspace>\r\n\r\n              </Workspace>\r\n          </div>\r\n            <div className='rightSide border-left'>\r\n              <div className='editionMenu border-bottom'>\r\n                <Save/>\r\n              </div>\r\n                <Canvas/>\r\n            </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Containers/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { configure } from 'enzyme';\r\nimport Adapter from 'enzyme-adapter-react-16';\r\n\r\nconfigure({ adapter: new Adapter() });\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}